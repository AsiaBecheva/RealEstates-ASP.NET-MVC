/*
* Kendo UI v2014.2.1008 (http://www.telerik.com/kendo-ui)
* Copyright 2014 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at
* http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(e,define){define(["./kendo.data.min","./kendo.userevents.min","./kendo.dataviz.core.min","./kendo.dataviz.svg.min","./kendo.dataviz.themes.min"],e)}(function(){return function(e,t){function n(){this._defaults={}}function i(e){return o(e).min}function r(e){return o(e).max}function o(e){var n,i,r=kr,o=Cr,a=e.length;for(n=0;a>n;n++)i=e[n],null!==i&&isFinite(i)&&(r=gn.min(r,i),o=gn.max(o,i));return{min:r===kr?t:r,max:o===Cr?t:o}}function a(e,t,n,i){var r,o,a=(i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x),s=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y);return 0!==s&&(o=a/s,r=new Vn(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y))),r}function s(e,t){var n,i,r,o=e.series,a=o.length,s=e.seriesDefaults,c=xn({},e.seriesDefaults),d=t?xn({},t.seriesDefaults):{},u=xn({},d);for(l(c),l(u),n=0;a>n;n++)i=o[n].type||e.seriesDefaults.type,r=xn({data:[]},u,d[i],{tooltip:e.tooltip},c,s[i]),o[n]._defaults=r,o[n]=xn({},r,o[n])}function l(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function c(e){var t,n,i,r,o=e.series,a=e.seriesColors||[];for(t=0;o.length>t;t++)n=o[t],i=a[t%a.length],n.color=n.color||i,r=n._defaults,r&&(r.color=r.color||i)}function d(e){var t;hn([Si,Do,zo,Bo],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function u(t,n){var i=(n||{}).axisDefaults||{};hn([Si,Do,zo,Bo],function(){var n=this+"Axis",r=[].concat(t[n]),o=t.axisDefaults||{};r=e.map(r,function(e){var t=(e||{}).color,r=xn({},i,i[n],o,o[n],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete r[n],r}),t[n]=r.length>1?r:r[0]})}function h(e){var t,n=e.length,i=0;for(t=0;n>t;t++)i=gn.max(i,e[t].data.length);return i}function p(e){return e*e}function f(e,t){if(null===t)return t;var n=Cn(e,!0);return n(t)}function g(e,t){if(null===t)return t;var n="_date_"+e,i=t[n];return i||(i=m(Cn(e,!0)(t)),t[n]=i),i}function m(e){var t,n;if(e instanceof Date)t=e;else if(typeof e===co)t=_n.parseDate(e)||new Date(e);else if(e)if(pn(e))for(t=[],n=0;e.length>n;n++)t.push(m(e[n]));else t=new Date(e);return t}function v(e){return pn(e)?fn(e,v):e?m(e).getTime():t}function _(e,t,n,i){var r,o=e;return e&&(e=m(e),r=e.getHours(),n===Ro?(o=new Date(e.getFullYear()+t,0,1),_n.date.adjustDST(o,0)):n===Tr?(o=new Date(e.getFullYear(),e.getMonth()+t,1),_n.date.adjustDST(o,r)):n===Mo?(o=_(y(e,i),7*t,Oi),_n.date.adjustDST(o,r)):n===Oi?(o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t),_n.date.adjustDST(o,r)):n===cr?(o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t>0&&A(e,o)&&(o=_(e,t+1,n,i))):n===Sr?(o=new Date(e.getTime()+t*po),o.getSeconds()>0&&o.setSeconds(0)):n===Jr&&(o=new Date(e.getTime()+t*ho)),o.getMilliseconds()>0&&o.setMilliseconds(0)),o}function y(e,t){var n=e.getDay(),i=0;if(!isNaN(n))for(t=t||0;n!==t;)0===n?n=6:n--,i++;return x(e,-i*go)}function w(e,t,n){return e=m(e),_(e,0,t,n)}function b(e,t,n){return e=m(e),e&&w(e,t,n).getTime()===e.getTime()?e:_(e,1,t,n)}function k(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-i*po}function x(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),r=i.getTimezoneOffset()-n;return new Date(i.getTime()+r*po)}function C(e,t,n){var i;return i=n===Ro?t.getFullYear()-e.getFullYear():n===Tr?12*C(e,t,Ro)+t.getMonth()-e.getMonth():gn.floor(n===Oi?k(t,e)/go:(t-e)/yo[n])}function S(e){return 1===e.length?e[0]:e}function T(e){var t,n,i,r=e.length;if(r>0)for(n=0;r>n;n++)i=e[n].box,t?t.wrap(i):t=i.clone();return t||Pn()}function D(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function A(e,t){return e&&t?v(e)===v(t):e===t}function E(e,t){null!==t&&e.push(t)}function I(e,t){for(var n,i,r=0,o=t.length-1;o>=r;)if(n=gn.floor((r+o)/2),i=t[n],e>i)r=n+1;else{if(!(i>e)){for(;A(t[n-1],e);)n--;return n}o=n-1}return e>=t[n]?n:n-1}function P(e){return"number"==typeof e&&!isNaN(e)}function M(e){var t,n,i=e.length,r=0;for(t=0;i>t;t++)n=e[t],P(n)&&r++;return r}function F(e){return M(e)===e.length}function z(e){var t,n,i,r={};for(t=0;e.length>t;t++)n=e[t],i=n.options.name,i&&(r[i]=n.range());return r}function B(e,t,n,i){var r,o,a,s,l,c=!1;if(n=n||{},a=n.excluded=n.excluded||[],s=n.defaults=n.defaults||{},l=n.depth=n.depth||0,!(l>br)){for(r in e)!ei(r,n.excluded)&&e.hasOwnProperty(r)&&(o=e[r],Sn(o)?(c=!0,i||(e[r]=li(o(t),s[r]))):typeof o===Hr&&(n.defaults=s[r],n.depth++,c=B(o,t,n,i)||c,n.depth--));return c}}function R(e,n){var i,r,o,a=[],s=e.groupNameTemplate,l=n.length;for(Kn(s)?(_n.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),s&&(i=Tn(s))):(i=Tn(e.name||""),0===i._slotCount&&(i=Tn(Kn(e.name)?"#= group.value #: #= series.name #":"#= group.value #"))),r=0;l>r;r++)o=xn({},e),Sn(o.color)||(o.color=t),o._groupIx=r,a.push(o),i&&(o.name=i({series:o,group:n[r]}));return a}function L(e,t){var n,i,r=[];for(t=[].concat(t),n=0;e.length>n;n++)i=e[n],ei(i.type,t)&&r.push(i);return r}function H(t,n){if(t instanceof Date){for(var i=0,r=n.length;r>i;i++)if(A(n[i],t))return i;return-1}return e.inArray(t,n)}function O(e,t){t=t||Xn;for(var n=1,i=e.length;i>n;n++)if(t(e[n],e[n-1])<0){e.sort(t);break}return e}function N(e,t){var n,i=O(e,t),r=i.length,o=r>0?[i[0]]:[];for(t=t||Xn,n=1;r>n;n++)0!==t(i[n],ni(o))&&o.push(i[n]);return o}function V(e,t){var n=e.type,i=t instanceof Date;return!n&&i||D(n,Hi)}function U(e){var t,n,i,r,o=[],a=e.length;for(t=0;a>t;t++)for(n=e[t],r=n.length,i=0;r>i;i++)o[i]=o[i]||[],o[i].push(n[i]);return o}function W(e,t){if(e.indexOf(".")>-1)for(var n,i=e.split("."),r="";i.length>1;)r+=i.shift(),n=_n.getter(r)(t)||{},_n.setter(r)(t,n),r+="."}function j(e){var t,n,i,r=e.data,o=0;for(t=0;r.length>t;t++)n=G.current.bindPoint(e,t),i=n.valueFields.value,typeof i===co&&(i=parseFloat(i)),P(i)&&n.fields.visible!==!1&&(o+=gn.abs(i));return o}var q,G,$,Y,Q,K,X,Z,J,et,tt,nt,it,rt,ot,at,st,lt,ct,dt,ut,ht,pt,ft,gt,mt,vt,_t,yt,wt,bt,kt,xt,Ct,St,Tt,Dt,At,Et,It,Pt,Mt,Ft,zt,Bt,Rt,Lt,Ht,Ot,Nt,Vt,Ut,Wt,jt,qt,Gt,$t,Yt,Qt,Kt,Xt,Zt,Jt,en,tn,nn,rn,on,an,sn,ln,cn,dn,un,hn=e.each,pn=e.isArray,fn=e.map,gn=Math,mn=e.extend,vn=e.proxy,_n=window.kendo,yn=_n.Class,wn=_n.Observable,bn=_n.data.DataSource,kn=_n.ui.Widget,xn=_n.deepExtend,Cn=_n.getter,Sn=_n.isFunction,Tn=_n.template,Dn=_n.dataviz,An=Dn.Axis,En=Dn.AxisLabel,In=Dn.BarAnimation,Pn=Dn.Box2D,Mn=Dn.BoxElement,Fn=Dn.ChartElement,zn=Dn.Color,Bn=Dn.CurveProcessor,Rn=Dn.ElementAnimation,Ln=Dn.FloatElement,Hn=Dn.Note,On=Dn.LogarithmicAxis,Nn=Dn.NumericAxis,Vn=Dn.Point2D,Un=Dn.RootElement,Wn=Dn.Ring,jn=Dn.ShapeElement,qn=Dn.TextBox,Gn=Dn.Title,$n=Dn.animationDecorator,Yn=Dn.append,Qn=Dn.autoFormat,Kn=Dn.defined,Xn=Dn.dateComparer,Zn=Dn.getElement,Jn=Dn.getSpacing,ei=Dn.inArray,ti=Dn.interpolateValue,ni=Dn.last,ii=Dn.limitValue,ri=Dn.mwDelta,oi=Dn.round,ai=Dn.renderTemplate,si=Dn.uniqueId,li=Dn.valueOrDefault,ci=".kendoChart",di="above",ui="area",hi="auto",pi="fit",fi=Dn.AXIS_LABEL_CLICK,gi="bar",mi=.8,vi="below",_i="#000",yi="both",wi="bottom",bi="boxPlot",ki="bubble",xi="bullet",Ci="candlestick",Si="category",Ti="center",Di="change",Ai="circle",Ei="contextmenu"+ci,Ii=Dn.CLIP,Pi="color",Mi="column",Fi=Dn.COORD_PRECISION,zi="cross",Bi="k-",Ri="custom",Li="dataBound",Hi="date",Oi="days",Ni=Dn.DEFAULT_FONT,Vi=Dn.DEFAULT_HEIGHT,Ui=Dn.DEFAULT_PRECISION,Wi=Dn.DEFAULT_WIDTH,ji=4,qi="donut",Gi=50,$i="drag",Yi="dragEnd",Qi="dragStart",Ki="errorLow",Xi="errorHigh",Zi="xErrorLow",Ji="xErrorHigh",er="yErrorLow",tr="yErrorHigh",nr="fadeIn",ir="first",rr="from",or="funnel",ar="glass",sr="horizontal",lr="horizontalWaterfall",cr="hours",dr=Dn.INITIAL_ANIMATION_DURATION,ur="insideBase",hr="insideEnd",pr="interpolate",fr="left",gr="legendItemClick",mr="legendItemHover",vr="line",_r=8,yr="log",wr="max",br=5,kr=Number.MAX_VALUE,xr="min",Cr=-Number.MAX_VALUE,Sr="minutes",Tr="months",Dr="mouseleave"+ci,Ar="mousemove.tracking",Er="mouseover"+ci,Ir="mouseout"+ci,Pr="mousemove"+ci,Mr=20,Fr=150,zr="DOMMouseScroll"+ci+" mousewheel"+ci,Br=Dn.NOTE_CLICK,Rr=Dn.NOTE_HOVER,Lr="noteText",Hr="object",Or="ohlc",Nr="outsideEnd",Vr="_outline",Ur="pie",Wr=70,jr="plotAreaClick",qr="pointer",Gr="rangeBar",$r="rangeColumn",Yr="right",Qr="roundedBevel",Kr="roundedGlass",Xr="scatter",Zr="scatterLine",Jr="seconds",eo="selectStart",to="select",no="selectEnd",io="seriesClick",ro="seriesHover",oo="step",ao="smooth",so="stderr",lo="stddev",co="string",uo="summary",ho=1e3,po=60*ho,fo=60*po,go=24*fo,mo=7*go,vo=31*go,_o=365*go,yo={years:_o,months:vo,weeks:mo,days:go,hours:fo,minutes:po,seconds:ho},wo="to",bo="top",ko=150,xo=5,Co=100,So=100,To="chart-tooltip-inverse",Do="value",Ao="verticalArea",Eo="verticalBullet",Io="verticalLine",Po="waterfall",Mo="weeks",Fo="#fff",zo="x",Bo="y",Ro="years",Lo="zero",Ho=3,Oo="zoomStart",No="zoom",Vo="zoomEnd",Uo=[Jr,Sr,cr,Oi,Mo,Tr,Ro],Wo=[gi,Mi,Or,Ci,bi,xi,$r,Gr,Po,lr],jo={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},qo=kn.extend({init:function(e,n){var i,r,o=this;_n.destroy(e),kn.fn.init.call(o,e),o.element.addClass(Bi+this.options.name.toLowerCase()).css("position","relative"),n&&(r=n.dataSource,n.dataSource=t),i=xn({},o.options,n),o._originalOptions=xn({},i),o._initTheme(i),o.bind(o.events,o.options),o.wrapper=o.element,n&&(n.dataSource=r),o._initDataSource(n),_n.notify(o,Dn.ui)},_initTheme:function(n){var i,r=this,o=Dn.ui.themes||{},a=n.theme,s=o[a]||o[a.toLowerCase()],l=a&&s?s.chart:{},u=[],h=n.series||[];for(i=0;h.length>i;i++)u.push(e.extend({},h[i]));n.series=u,d(n),r._applyDefaults(n,l),null===n.seriesColors&&(n.seriesColors=t),r.options=xn({},l,n),c(r.options)},_initDataSource:function(e){var t=this,n=(e||{}).dataSource;t._dataChangeHandler=vn(t._onDataChanged,t),t.dataSource=bn.create(n).bind(Di,t._dataChangeHandler),t._bindCategories(),t._redraw(),t._attachEvents(),n&&(t._hasDataSource=!0,t.options.autoBind&&t.dataSource.fetch())},setDataSource:function(e){var t=this;t.dataSource.unbind(Di,t._dataChangeHandler),t.dataSource=e,t._hasDataSource=!0,e.bind(Di,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Li,io,ro,fi,gr,mr,jr,Qi,$i,Yi,Oo,No,Vo,eo,to,no,Br,Rr],items:function(){return e()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Mi,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}]},refresh:function(){var e=this;e._applyDefaults(e.options),c(e.options),e._bindSeries(),e._bindCategories(),e.trigger(Li),e._redraw()},getSize:function(){return _n.dimensions(this.element)},_resize:function(){var e=this.options.transitions;this.options.transitions=!1,this._redraw(),this.options.transitions=e},redraw:function(e){var t,n,i=this;i._applyDefaults(i.options),c(i.options),e?(n=i._model._plotArea,t=n.findPane(e),n.redraw(t)):i._redraw()},_redraw:function(){var e,t=this,n=t._getModel();t._destroyView(),t._model=n,t._plotArea=n._plotArea,e=t._view=Dn.ViewFactory.current.create(n.options,t.options.renderAs),e&&(e.load(n),t._viewElement=t._renderView(e),t._tooltip=t._createTooltip(),t._highlight=new nn(e,t._viewElement),t._setupSelection())},_sharedTooltip:function(){var e=this,t=e.options;return e._plotArea instanceof Gt&&t.tooltip.shared},_createTooltip:function(){var e,t=this,n=t.options,i=t.element;return e=t._sharedTooltip()?new an(i,t._plotArea,n.tooltip):new on(i,n.tooltip)},_renderView:function(){var e=this;return e._view.renderTo(e.element[0])},_applyDefaults:function(e,t){u(e,t),s(e,t)},_getModel:function(){var e,t=this,n=t.options,i=new Un(t._modelOptions());return i.parent=t,Gn.buildTitle(n.title,i),e=i._plotArea=t._createPlotArea(),n.legend.visible&&i.append(new Q(e.options.legend)),i.append(e),i.reflow(),i},_modelOptions:function(){var e=this,t=e.options,n=e.element,i=gn.floor(n.height()),r=gn.floor(n.width());return e._size=null,xn({width:r||Wi,height:i||Vi,transitions:t.transitions},t.chartArea)},_createPlotArea:function(){var e=this,t=e.options;return q.current.create(t.series,t)},_setupSelection:function(){var e,t,n,i,r,o,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler||(a._selectStartHandler=vn(a._selectStart,a),a._selectHandler=vn(a._select,a),a._selectEndHandler=vn(a._selectEnd,a)),t=0;l.length>t;t++)n=l[t],o=n.options,n instanceof K&&o.select&&!o.vertical&&(i=0,r=o.categories.length-1,n instanceof X&&(i=o.categories[i],r=o.categories[r]),o.justified||(n instanceof X?r=_(r,1,o.baseUnit,o.weekStartDay):r++),e=new dn(a,n,xn({min:i,max:r},o.select)),e.bind(eo,a._selectStartHandler),e.bind(to,a._selectHandler),e.bind(no,a._selectEndHandler),c.push(e))},_selectStart:function(e){return this.trigger(eo,e)},_select:function(e){return this.trigger(to,e)},_selectEnd:function(e){return this.trigger(no,e)},_attachEvents:function(){var e=this,t=e.element;t.on(Ei,vn(e._click,e)),t.on(Er,vn(e._mouseover,e)),t.on(Ir,vn(e._mouseout,e)),t.on(zr,vn(e._mousewheel,e)),t.on(Dr,vn(e._mouseleave,e)),e._mousemove=_n.throttle(vn(e._mousemove,e),Mr),e._shouldAttachMouseMove()&&t.on(Pr,e._mousemove),_n.UserEvents&&(e._userEvents=new _n.UserEvents(t,{global:!0,filter:":not(.k-selector)",multiTouch:!1,tap:vn(e._tap,e),start:vn(e._start,e),move:vn(e._move,e),end:vn(e._end,e)}))},_mouseout:function(e){var t=this,n=t._model.modelMap[e.target.getAttribute("data-model-id")];n&&n.leave&&n.leave(t,e)},_start:function(e){var t=this,n=t._events;Kn(n[Qi]||n[$i]||n[Yi])&&t._startNavigation(e,Qi)},_move:function(e){var t,n,i,r,o,a,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,n=0;t.length>n;n++)i=t[n],r=i.options.name,r&&(o=i.options.vertical?e.y:e.x,a=o.startLocation-o.location,0!==a&&(c[i.options.name]=i.translateRange(a)));l.axisRanges=c,s.trigger($i,{axisRanges:c,originalEvent:e})}},_end:function(e){this._endNavigation(e,Yi)},_mousewheel:function(e){var t,n,i,r,o,a,s=this,l=e.originalEvent,c=ri(e),d=s._navState,u={};if(d||(t=s._startNavigation(l,Oo),t||(d=s._navState)),d){for(n=d.totalDelta||c,d.totalDelta=n+c,i=s._navState.axes,r=0;i.length>r;r++)o=i[r],a=o.options.name,a&&(u[a]=o.scaleRange(-n));s.trigger(No,{delta:c,axisRanges:u,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,Vo)},Fr)}},_startNavigation:function(e,t){var n,i,r,o=this,a=o._eventCoordinates(e),s=o._model._plotArea,l=s.findPointPane(a),c=s.axes.slice(0),d=!1;if(l){for(n=0;c.length>n;n++)if(i=c[n],i.box.containsPoint(a)){d=!0;break}!d&&s.backgroundBox().containsPoint(a)&&(r=o.trigger(t,{axisRanges:z(c),originalEvent:e}),r?o._userEvents.cancel():(o._suppressHover=!0,o._unsetActivePoint(),o._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var n=this;n._navState&&(n.trigger(t,{axisRanges:n._navState.axisRanges,originalEvent:e}),n._suppressHover=!1,n._navState=null)},_getChartElement:function(t){var n,i=this,r=e(t.target),o=r.data("modelId")||r.parent().data("modelId"),a=i._model;return o&&(n=a.modelMap[o]),n&&n.aliasFor&&(n=n.aliasFor(t,i._eventCoordinates(t))),n},_eventCoordinates:function(e){var t=this,n=Kn((e.x||{}).client),i=n?e.x.client:e.clientX,r=n?e.y.client:e.clientY;return t._toModelCoordinates(i,r)},_toModelCoordinates:function(t,n){var i=this.element,r=i.offset(),o=parseInt(i.css("paddingLeft"),10),a=parseInt(i.css("paddingTop"),10),s=e(window);return new Vn(t-r.left-o+s.scrollLeft(),n-r.top-a+s.scrollTop())},_tap:function(e){var t=this,n=t._getChartElement(e);t._activePoint===n?t._click(e):(t._startHover(e)||t._unsetActivePoint(),t._click(e))},_click:function(e){for(var t=this,n=t._getChartElement(e);n;)n.click&&n.click(t,e),n=n.parent},_startHover:function(e){var n,i=this,r=i._tooltip,o=i._highlight,a=i.options.tooltip;if(!i._suppressHover&&o&&!o.isOverlay(e.target)&&!i._sharedTooltip())return n=i._getChartElement(e),n&&n.hover&&!n.hover(i,e)?(i._activePoint=n,a=xn({},a,n.options.tooltip),a.visible&&r.show(n),o.show(n),!0):t},_mouseover:function(t){var n=this;n._startHover(t)&&e(document).on(Ar,vn(n._mouseMoveTracking,n))},_mouseMoveTracking:function(t){var n,i,r=this,o=r.options,a=r._tooltip,s=r._highlight,l=r._eventCoordinates(t),c=r._activePoint;r._plotArea.box.containsPoint(l)?c&&c.tooltipTracking&&c.series&&c.parent.getNearestPoint&&(i=c.parent.getNearestPoint(l.x,l.y,c.seriesIx),i&&i!=c&&(i.hover(r,t),r._activePoint=i,n=xn({},o.tooltip,c.options.tooltip),n.visible&&a.show(i),s.show(i))):(e(document).off(Ar),r._unsetActivePoint())},_mousemove:function(e){var t=this._eventCoordinates(e);this._trackCrosshairs(t),this._sharedTooltip()&&this._trackSharedTooltip(t)},_trackCrosshairs:function(e){var t,n,i=this._plotArea.crosshairs;for(t=0;i.length>t;t++)n=i[t],n.box.containsPoint(e)?n.showAt(e):n.hide()},_trackSharedTooltip:function(e){var t,n,i=this,r=i.options,o=i._plotArea,a=o.categoryAxis,s=i._tooltip,l=r.tooltip,c=i._highlight;o.box.containsPoint(e)&&(t=a.pointCategoryIndex(e),t!==i._tooltipCategoryIx&&(n=o.pointsByCategoryIndex(t),n.length>0?(l.visible&&s.showAt(n,e),c.show(n)):s.hide(),i._tooltipCategoryIx=t))},_mouseleave:function(t){var n,i,r=this,o=r._plotArea,a=o.crosshairs,s=r._tooltip,l=r._highlight,c=t.relatedTarget;if(c){for(n=0;a.length>n;n++)a[n].hide();l.hide(),i=s.element[0],c===i||e.contains(i,c)||(setTimeout(vn(s.hide,s),So),r._tooltipCategoryIx=null)}},_unsetActivePoint:function(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide()},_onDataChanged:function(){var e,t,n=this,i=n.options,r=n._sourceSeries||i.series,o=r.length,a=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,l=[];for(e=0;o>e;e++)t=r[e],n._isBindable(t)&&s?Yn(l,R(t,a)):l.push(t||[]);n._sourceSeries=r,i.series=l,c(n.options),n._bindSeries(),n._bindCategories(),n.trigger(Li),n._redraw()},_bindSeries:function(){var e,t,n,i,r=this,o=r.dataSource.view(),a=r.options.series,s=a.length;for(e=0;s>e;e++)t=a[e],r._isBindable(t)&&(n=t._groupIx,i=Kn(n)?(o[n]||{}).items:o,t.autoBind!==!1&&(t.data=i))},_bindCategories:function(){var e,t,n=this,i=n.dataSource.view()||[],r=(n.dataSource.group()||[]).length>0,o=i,a=n.options,s=[].concat(a.categoryAxis);for(r&&i.length&&(o=i[0].items),e=0;s.length>e;e++)t=s[e],t.autoBind!==!1&&n._bindCategoryAxis(t,o,e)},_bindCategoryAxis:function(e,t,n){var i,r,o,a=(t||[]).length;if(e.field)for(e.categories=[],i=0;a>i;i++)o=t[i],r=f(e.field,o),0===i?(e.categories=[r],e.dataItems=[o]):(e.categories.push(r),e.dataItems.push(o));else this._bindCategoryAxisFromSeries(e,n)},_bindCategoryAxisFromSeries:function(e,t){var n,i,r,o,a,s,l,c,d,u,h,p=this,m=[],v=p.options.series,_=v.length,y={};for(i=0;_>i;i++)if(r=v[i],o=r.categoryAxis===e.name||!r.categoryAxis&&0===t,a=r.data,l=a.length,r.categoryField&&o&&l>0)for(h=V(e,f(r.categoryField,a[0])),u=h?g:f,s=0;l>s;s++)c=a[s],d=u(r.categoryField,c),(h||!y[d])&&(m.push([d,c]),h||(y[d]=!0));m.length>0&&(h&&(m=N(m,function(e,t){return Xn(e[0],t[0])})),n=U(m),e.categories=n[0],e.dataItems=n[1])},_isBindable:function(e){var t,n,i=G.current.valueFields(e),r=!0;for(n=0;i.length>n;n++)if(t=i[n],t===Do?t="field":t+="Field",!Kn(e[t])){r=!1;break}return r},_legendItemClick:function(e,t){var n,i,r,o=this,a=o._plotArea,s=(a.srcSeries||a.series)[e],l=(o._sourceSeries||[])[e]||s;ei(s.type,[Ur,qi,or])?(r=l.data[t],i=Kn(r.visible)?!r.visible:!1,r.visible=i):(i=!l.visible,l.visible=i,s.visible=i),o.options.transitions&&(o.options.transitions=!1,n=!0),o.redraw(),n&&(o.options.transitions=!0)},_legendItemHover:function(e,t){var n,i,r=this,o=r._plotArea,a=r._highlight,s=(o.srcSeries||o.series)[e];n=ei(s.type,[Ur,qi,or])?t:e,i=o.pointsBySeriesIndex(n),a.show(i)},_shouldAttachMouseMove:function(){var e=this;return e._plotArea.crosshairs.length||e._tooltip&&e._sharedTooltip()},setOptions:function(n){var i=this,r=n.dataSource;n.dataSource=t,i._originalOptions=xn(i._originalOptions,n),i.options=xn({},i._originalOptions),i._sourceSeries=null,e(document).off(Pr),kn.fn._setEvents.call(i,n),i._initTheme(i.options),r&&i.setDataSource(bn.create(r)),i._shouldAttachMouseMove()&&i.element.on(Pr,i._mousemove),i._hasDataSource?i.refresh():i.redraw()},destroy:function(){var t=this,n=t.dataSource;t.element.off(ci),n.unbind(Di,t._dataChangeHandler),e(document).off(Ar),t._userEvents&&t._userEvents.destroy(),t._destroyView(),kn.fn.destroy.call(t)},_destroyView:function(){var e=this,t=e._model,n=e._view,i=e._selections;if(t&&(t.destroy(),e._model=null),n&&(n.destroy(),e._view=null),i)for(;i.length>0;)i.shift().destroy();e._unsetActivePoint(),e._tooltip&&e._tooltip.destroy(),e._highlight&&e._highlight.destroy(),e._viewElement=null}});xn(qo.fn,Dn.ExportMixin),q=yn.extend({init:function(){this._registry=[]},register:function(e,t){this._registry.push({type:e,seriesTypes:t})},create:function(e,t){var n,i,r,o=this._registry,a=o[0];for(n=0;o.length>n;n++)if(i=o[n],r=L(e,i.seriesTypes),r.length>0){a=i;break}return new a.type(r,t)}}),q.current=new q,G=yn.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(e,n,i){var r,o,a=this;for(n=n||[Do],r=0;e.length>r;r++)o=e[r],a._valueFields[o]=n,a._otherFields[o]=i,a._nullValue[o]=a._makeValue(n,null),a._undefinedValue[o]=a._makeValue(n,t)},canonicalFields:function(e){return this.valueFields(e).concat(this.otherFields(e))},valueFields:function(e){return this._valueFields[e.type]||[Do]},otherFields:function(e){return this._otherFields[e.type]||[Do]},bindPoint:function(e,t){var n,i,r,o,a,s=this,l=e.data,c=l[t],d={valueFields:{value:c}},u=s.valueFields(e),h=s._otherFields[e.type];return null===c?a=s._nullValue[e.type]:Kn(c)?pn(c)?(i=c.slice(u.length),a=s._bindFromArray(c,u),n=s._bindFromArray(i,h)):typeof c===Hr&&(r=s.sourceFields(e,u),o=s.sourceFields(e,h),a=s._bindFromObject(c,u,r),n=s._bindFromObject(c,h,o)):a=s._undefinedValue[e.type],Kn(a)&&(1===u.length?d.valueFields.value=a[u[0]]:d.valueFields=a),d.fields=n||{},d},_makeValue:function(e,t){var n,i,r={},o=e.length;for(n=0;o>n;n++)i=e[n],r[i]=t;return r},_bindFromArray:function(e,t){var n,i,r={};if(t)for(i=gn.min(t.length,e.length),n=0;i>n;n++)r[t[n]]=e[n];return r},_bindFromObject:function(e,t,n){var i,r,o,a,s={};if(t)for(r=t.length,n=n||t,i=0;r>i;i++)o=t[i],a=n[i],s[o]=f(a,e);return s},sourceFields:function(e,t){var n,i,r,o,a;if(t)for(i=t.length,o=[],n=0;i>n;n++)r=t[n],a=r===Do?"field":r+"Field",o.push(e[a]||r);return o}}),G.current=new G,$=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.append(new qn(e,n.options))},options:{position:Nr,margin:Jn(3),padding:Jn(4),color:_i,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:nr,delay:dr},zIndex:1},reflow:function(e){var t=this,n=t.options,i=n.vertical,r=n.aboveAxis,o=t.children[0],a=o.box,s=o.options.padding;o.options.align=i?Ti:fr,o.options.vAlign=i?bo:Ti,n.position==hr?i?(o.options.vAlign=bo,!r&&a.height()<e.height()&&(o.options.vAlign=wi)):o.options.align=r?Yr:fr:n.position==Ti?(o.options.vAlign=Ti,o.options.align=Ti):n.position==ur?i?o.options.vAlign=r?wi:bo:o.options.align=r?fr:Yr:n.position==Nr&&(i?e=r?new Pn(e.x1,e.y1-a.height(),e.x2,e.y1):new Pn(e.x1,e.y2,e.x2,e.y2+a.height()):(o.options.align=Ti,e=r?new Pn(e.x2+a.width(),e.y1,e.x2,e.y2):new Pn(e.x1-a.width(),e.y1,e.x1,e.y2))),n.rotation||(i?s.left=s.right=(e.width()-o.contentBox.width())/2:s.top=s.bottom=(e.height()-o.contentBox.height())/2),o.reflow(e)},alignToClipBox:function(e){var t,n=this,i=n.options.vertical,r=i?Bo:zo,o=r+"1",a=r+"2",s=n.children[0],l=n.parent.box;(e[o]>l[o]||l[a]>e[a])&&(t=s.paddingBox.clone(),t[o]=gn.max(l[o],e[o]),t[a]=gn.min(l[a],e[a]),this.reflow(t))},getViewElements:function(e){var t=this,n=[];return t.options.visible!==!1&&(n=Fn.fn.getViewElements.call(t,e)),n}}),Y=Mn.extend({init:function(e){var t=this;Mn.fn.init.call(t,e),t.createContainer(),t.createMarker(),t.createLabel(),t.enableDiscovery()},createContainer:function(){var e=this;e.container=new Ln({vertical:!1,wrap:!1,align:Ti}),e.append(e.container)},createMarker:function(){var e=this,t=e.options,n=t.markerColor,i=t.markers,r=xn({},i,{background:n,border:{color:n}});e.container.append(new jn(r))},createLabel:function(){var e=this,t=e.options,n=xn({},t.labels,{id:si()});e.container.append(new qn(t.text,n))},getViewElements:function(e){var t=this,n=t.options,i=e.createRect(t.container.box,{data:{modelId:t.modelId},zIndex:n.zIndex,cursor:n.cursor,fill:"#fff",fillOpacity:0}),r=[];return Yn(r,Fn.fn.getViewElements.call(this,e)),r.push(i),r},click:function(e,t){var n=this.eventArgs(t);e.trigger(gr,n)||(t.preventDefault(),e._legendItemClick(n.seriesIndex,n.pointIndex))},hover:function(e,t){var n=this.eventArgs(t);return e.trigger(mr,n)||(t.preventDefault(),e._legendItemHover(n.seriesIndex,n.pointIndex)),!0},leave:function(e){e._unsetActivePoint()},eventArgs:function(t){var n=this.options;return{element:e(t.target),text:n.text,series:n.series,seriesIndex:n.series.index,pointIndex:n.pointIndex}}}),Q=Fn.extend({init:function(e){var t=this;Fn.fn.init.call(t,e),ei(t.options.position,[bo,Yr,wi,fr,Ri])||(t.options.position=Yr),t.createContainer(),t.createItems()},options:{position:Yr,items:[],labels:{margin:{left:6},zIndex:1},offsetX:0,offsetY:0,margin:Jn(5),padding:Jn(5),border:{color:_i,width:0},item:{zIndex:1,cursor:{style:qr}},spacing:6,background:"",zIndex:1,markers:{border:{width:1},width:7,height:7,type:"rect",align:fr,vAlign:Ti,zIndex:1}},createContainer:function(){var e=this,t=e.options,n=t.position,i=n,r=Ti;n==Ri?i=fr:ei(n,[bo,wi])&&(i=Ti,r=n),e.container=new Mn({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:r,align:i,zIndex:t.zIndex,shrinkToFit:!0}),e.append(e.container)},createItems:function(){var e,t,n,i=this,r=i.options,o=r.items,a=o.length,s=i.isVertical();for(e=new Ln({vertical:s,spacing:r.spacing}),t=0;a>t;t++)n=o[t],e.append(new Y(xn({},{markers:r.markers,labels:r.labels},r.item,n)));i.container.append(e)},isVertical:function(){var e=this,t=e.options,n=t.position,i=ei(n,[fr,Yr])||n==Ri&&t.orientation!=sr;return i},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(e){var n=this,i=n.options,r=n.container,o=n.isVertical(),a=e.clone();return n.hasItems()?(o&&(a.y1=0),i.position===Ri?(n.containerCustomReflow(a),n.box=e.clone()):(r.reflow(a),n.containerReflow(e)),t):(n.box=e.clone(),t)},containerReflow:function(e){var t=this,n=t.options,i=n.position==bo||n.position==wi?zo:Bo,r=t.container.box,o=r.clone();(n.offsetX||n.offsetY)&&(r.translate(n.offsetX,n.offsetY),t.container.reflow(r)),o[i+1]=e[i+1],o[i+2]=e[i+2],t.box=o},containerCustomReflow:function(e){var t=this,n=t.options,i=n.offsetX,r=n.offsetY,o=t.container,a=n.width,s=n.height,l=t.isVertical(),c=e.clone();l&&s?c.y2=c.y1+s:!l&&a&&(c.x2=c.x1+a),o.reflow(c),c=o.box,o.reflow(Pn(i,r,i+c.width(),r+c.height()))},getViewElements:function(e){var t,n=this,i=[];return n.hasItems()&&(t=e.createGroup({zIndex:n.options.zIndex}),Yn(t.children,Fn.fn.getViewElements.call(n,e)),i.push(t)),i}}),K=An.extend({init:function(e){var t=this;An.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0),t._ticks={}},options:{type:Si,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:_i},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,n=this,i=n.options,r=i.vertical,o=i.justified,a=n.lineBox(),s=r?a.height():a.width(),l=e-(o?1:0),c=s/l,d=r?Bo:zo,u=a[d+1],h=[];for(t=0;e>t;t++)h.push(oi(u,Fi)),u+=c;return o||h.push(a[d+2]),i.reverse?h.reverse():h},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var e,t=this,n=t._ticks,i=t.options,r=i.categories.length,o=i.reverse,a=i.justified,s=t.lineBox();return e=s.getHash()+r+o+a,n._hash!==e&&(n._hash=e,n.majorTicks=t.getTickPositions(r),n.minorTicks=t.getTickPositions(2*r)),n},getSlot:function(e,t){var n,i,r,o=this,a=o.options,s=o.getTicks().majorTicks,l=a.reverse,c=a.justified,d=a.vertical?Bo:zo,u=o.lineBox(),h=u[d+(l?2:1)],p=u[d+(l?1:2)],f=u.clone(),g=gn.max(1,s.length-(c?0:1)),m=!Kn(t);return e=li(e,0),t=li(t,e),e=ii(e,0,g),t=ii(t-1,e,g),t=gn.max(e,t),n=0===e?h:s[e]||p,i=c?n:s[t],r=t-e,(r>0||e===t)&&(i=s[t+1]||p),m&&c&&(e===g?n=i:i=n),f[d+1]=l?i:n,f[d+2]=l?n:i,f},pointCategoryIndex:function(e){var t,n,i,r,o=this,a=o.options,s=a.reverse,l=a.vertical,c=l?Bo:zo,d=o.lineBox(),u=d[c+1],h=d[c+2],p=e[c],f=o.getMajorTickPositions(),g=kr;if(u>p||p>h)return null;for(i=0;f.length>i;i++)if(t=f[i],n=f[i+1],Kn(n)||(n=s?u:h),s&&(t=n,n=f[i]),a.justified){if(p===n){r=gn.max(0,l?f.length-i-1:i+1);break}gn.abs(p-t)<g&&(g=p-t,r=i)}else if(p>=t&&n>=p){r=i;break}return r},getCategory:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]},categoryIndex:function(e){return H(e,this.options.categories)},translateRange:function(e){var t=this,n=t.options,i=t.lineBox(),r=n.vertical?i.height():i.width(),o=n.categories.length,a=r/o,s=oi(e/a,Ui);return{min:s,max:o+s}},scaleRange:function(e){var t=this,n=t.options,i=n.categories.length,r=e*i;return{min:-r,max:i+r}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var n=this,i=n.options,r=i.dataItems?i.dataItems[e]:null,o=li(i.categories[e],""),a=n.axisLabelText(o,r,t);return new En(o,a,e,r,t)},shouldRenderNote:function(e){var t=this.options.categories;return t.length&&t.length>e&&e>=0}}),X=K.extend({init:function(e){var t,n,i=this;e=e||{},e=xn({roundToBaseUnit:!0},e,{categories:m(e.categories),min:m(e.min),max:m(e.max)}),e.categories&&e.categories.length>0?(t=(e.baseUnit||"").toLowerCase(),n=t!==pi&&!ei(t,Uo),n&&(e.baseUnit=i.defaultBaseUnit(e)),(t===pi||e.baseUnitStep===hi)&&i.autoBaseUnit(e),i.groupCategories(e)):e.baseUnit=e.baseUnit||Oi,K.fn.init.call(i,e)},options:{type:Hi,labels:{dateFormats:jo},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(e){var t=this,n=t.range(),i=t.options.categories||[];return Xn(e,n.min)>=0&&Xn(e,n.max)<=0&&i.length},parseNoteValue:function(e){return m(e)},translateRange:function(e){var t,n,i=this,r=i.options,o=r.baseUnit,a=r.weekStartDay,s=i.lineBox(),l=r.vertical?s.height():s.width(),c=i.range(),d=l/(c.max-c.min),u=oi(e/d,Ui);return c.min&&c.max&&(t=x(r.min||c.min,u),n=x(r.max||c.max,u),c={min:_(t,0,o,a),max:_(n,0,o,a)}),c},scaleRange:function(e){var t,n=this,i=gn.abs(e),r=n.range(),o=r.min,a=r.max;if(r.min&&r.max){for(;i--;)r=k(o,a),t=gn.round(.1*r),0>e?(o=x(o,t),a=x(a,-t)):(o=x(o,-t),a=x(a,t));r={min:o,max:a}}return r},defaultBaseUnit:function(e){var t,n,i,r,o,a=e.categories,s=Kn(a)?a.length:0,l=kr;for(t=0;s>t;t++)n=a[t],n&&r&&(i=k(n,r),i>0&&(l=gn.min(l,i),o=l>=_o?Ro:l>=vo-3*go?Tr:l>=mo?Mo:l>=go?Oi:l>=fo?cr:l>=po?Sr:Jr)),r=n;return o||Oi},_categoryRange:function(e){var t=e._range;return t||(t=e._range=o(e)),t},range:function(e){var t,n,i,r,o,a,s,l,c;return e=e||this.options,t=e.categories,n=e.baseUnit===pi,i=n?Uo[0]:e.baseUnit,r=e.baseUnitStep||1,o=v(e.min),a=v(e.max),s=this._categoryRange(t),l=v(s.min),c=v(s.max),e.roundToBaseUnit?{min:_(o||l,0,i,e.weekStartDay),max:_(a||c,r,i,e.weekStartDay)}:{min:m(o||l),max:m(a||this._srcMaxDate||c)}},autoBaseUnit:function(e){for(var t,n,i,r=this,o=r.range(xn({},e,{baseUnitStep:1})),a=e.baseUnit===pi,s=0,l=a?Uo[s++]:e.baseUnit,c=o.max-o.min,d=c/yo[l],u=d,h=e.maxDateGroups||r.options.maxDateGroups,p=xn({},r.options.autoBaseUnitSteps,e.autoBaseUnitSteps);!n||d>h;)if(t=t||p[l].slice(0),i=t.shift())n=i,d=u/n;else{if(l===ni(Uo)){n=gn.ceil(u/h);break}if(!a){d>h&&(n=gn.ceil(u/h));
break}l=Uo[s++]||ni(Uo),u=c/yo[l],t=null}e.baseUnitStep=n,e.baseUnit=l},_timeScale:function(){var e,t,n,i=this,r=i.range(),o=i.options,a=i.lineBox(),s=o.vertical,l=s?a.height():a.width();return o.justified&&o._collapse!==!1?(t=this._categoryRange(o.categories),n=v(t.max),e=m(n)-r.min):e=r.max-r.min,l/e},getTickPositions:function(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m=this,v=m.options,_=v.categories,y=[];if(v.roundToBaseUnit||0===_.length)y=K.fn.getTickPositions.call(m,e);else{for(t=v.vertical,n=v.reverse,i=m.lineBox(),r=_[0].getTime(),o=li(v._collapse,v.justified),a=_.length-(o?1:0),s=m._timeScale(),l=(t?-1:1)*(n?-1:1),c=1===l?1:2,d=1===l?2:1,u=i[(t?Bo:zo)+c],h=i[(t?Bo:zo)+d],p=u,f=0;a>f;f++)g=_[f]-r,p=u+g*s*l,y.push(oi(p,Fi));ni(y)!==h&&y.push(h)}return y},groupCategories:function(e){var t,n,i=this,o=e.categories,a=m(r(o)),s=e.baseUnit,l=e.baseUnitStep||1,c=i.range(e),d=c.max,u=[];for(t=c.min;d>t&&(u.push(t),n=_(t,l,s,e.weekStartDay),!(n>a)||e.max);t=n);e.roundToBaseUnit||A(ni(u),d)||(n>d&&e._collapse!==!1?this._srcMaxDate=d:u.push(d)),e.srcCategories=o,e.categories=u},createAxisLabel:function(e,n){var i,r,o=this.options,a=o.dataItems?o.dataItems[e]:null,s=o.categories[e],l=o.baseUnit,c=!0,d=n.dateFormats[l];return o.justified?(i=w(s,l,o.weekStartDay),c=A(i,s)):o.roundToBaseUnit||(c=!A(this.range().max,s)),c&&(n.format=n.format||d,r=this.axisLabelText(s,a,n))?new En(s,r,e,a,n):t},categoryIndex:function(e,t){var n,i,r=this,o=r.options,a=o.categories;return e=m(e),t=t||r.range(),n=o.roundToBaseUnit&&A(t.max,e),e&&(e>t.max||n)?a.length:!e||t.min>e?-1:i=I(e,a)},getSlot:function(e,t){var n=this;return typeof e===Hr&&(e=n.categoryIndex(e)),typeof t===Hr&&(t=n.categoryIndex(t)),K.fn.getSlot.call(n,e,t)}}),Z=An.extend({init:function(e,t,n){var i=this;n=n||{},xn(n,{min:m(n.min),max:m(n.max),axisCrossingValue:m(n.axisCrossingValues||n.axisCrossingValue)}),n=i.applyDefaults(m(e),m(t),n),An.fn.init.call(i,n)},options:{type:Hi,majorGridLines:{visible:!0,width:1,color:_i},labels:{dateFormats:jo}},applyDefaults:function(e,n,i){var r=this,o=i.min||e,a=i.max||n,s=i.baseUnit||r.timeUnits(a-o),l=yo[s],c=w(v(o)-1,s)||m(a),d=b(v(a)+1,s),u=i.majorUnit?i.majorUnit:t,h=u||Dn.ceil(Dn.autoMajorUnit(c.getTime(),d.getTime()),l)/l,p=C(c,d,s),f=Dn.ceil(p,h),g=f-p,y=gn.floor(g/2),k=g-y;return i.baseUnit||delete i.baseUnit,xn({baseUnit:s,min:_(c,-y,s),max:_(d,k,s),minorUnit:h/5},i,{majorUnit:h})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return gn.floor(C(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,n=this,i=n.options,r=i.vertical,o=i.reverse,a=n.lineBox(),s=r?a.height():a.width(),l=C(i.min,i.max,i.baseUnit),c=s/l,d=e*c,u=n.getDivisions(e),h=(r?-1:1)*(o?-1:1),p=1===h?1:2,f=a[(r?Bo:zo)+p],g=[];for(t=0;u>t;t++)g.push(oi(f,Fi)),f+=d*h;return g},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t,n){return Nn.fn.getSlot.call(this,m(e),m(t),n)},getValue:function(e){var t=Nn.fn.getValue.call(this,e);return null!==t?m(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n,i=this.options,r=e*i.majorUnit,o=_(i.min,r,i.baseUnit),a=t.dateFormats[i.baseUnit];return t.format=t.format||a,n=this.axisLabelText(o,null,t),new En(o,n,e,null,t)},timeUnits:function(e){var t=cr;return e>=_o?t=Ro:e>=vo?t=Tr:e>=mo?t=Mo:e>=go&&(t=Oi),t},translateRange:function(e){var t=this,n=t.options,i=n.baseUnit,r=n.weekStartDay,o=t.lineBox(),a=n.vertical?o.height():o.width(),s=t.range(),l=a/(s.max-s.min),c=oi(e/l,Ui),d=x(n.min,c),u=x(n.max,c);return{min:_(d,0,i,r),max:_(u,0,i,r)}},scaleRange:function(e){for(var t,n,i=this,r=i.options,o=gn.abs(e),a=r.min,s=r.max;o--;)t=k(a,s),n=gn.round(.1*t),0>e?(a=x(a,n),s=x(s,-n)):(a=x(a,-n),s=x(s,n));return{min:a,max:s}},shouldRenderNote:function(e){var t=this.range();return Xn(e,t.min)>=0&&Xn(e,t.max)<=0}}),J=Fn.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,n,i=this,r=i.options,o=r.vertical,a=o?Bo:zo,s=i.children,l=r.gap,c=r.spacing,d=s.length,u=d+l+c*(d-1),h=(o?e.height():e.width())/u,p=e[a+1]+h*(l/2);for(n=0;d>n;n++)t=(s[n].box||e).clone(),t[a+1]=p,t[a+2]=p+h,s[n].reflow(t),d-1>n&&(p+=h*c),p+=h}}),et=Fn.extend({options:{vertical:!0},reflow:function(e){var t,n,i,r=this.options,o=r.vertical,a=o?zo:Bo,s=o?Bo:zo,l=e[s+2],c=this.children,d=this.box=new Pn,u=c.length;for(t=0;u>t;t++)n=c[t],n.visible!==!1&&(i=n.box.clone(),i.snapTo(e,a),n.options&&(n.options.stackBase=l),0===t&&(d=this.box=i.clone()),n.reflow(i),d.wrap(i))}}),tt={click:function(t,n){var i=this;t.trigger(io,{value:i.value,percentage:i.percentage,category:i.category,series:i.series,dataItem:i.dataItem,runningTotal:i.runningTotal,total:i.total,element:e(n.target),originalEvent:n})},hover:function(t,n){var i=this;return t.trigger(ro,{value:i.value,percentage:i.percentage,category:i.category,series:i.series,dataItem:i.dataItem,runningTotal:i.runningTotal,total:i.total,element:e(n.target),originalEvent:n})}},nt={createNote:function(){var e=this,t=e.options.notes,n=e.noteText||t.label.text;t.visible!==!1&&Kn(n)&&null!==n&&(e.note=new Hn(e.value,n,e.dataItem,e.category,e.series,e.options.notes),e.append(e.note))}},it=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n),n.options=t,n.color=t.color||Fo,n.aboveAxis=li(n.options.aboveAxis,!0),n.value=e,n.id=si(),n.enableDiscovery()},defaults:{border:{width:1},vertical:!0,overlay:{gradient:ar},labels:{visible:!1,format:"{0}"},animation:{type:gi},opacity:1,notes:{label:{}}},render:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))},createLabel:function(){var e,t,n=this.options,i=n.labels;i.visible&&(i.template?(t=Tn(i.template),e=t({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):e=this.formatValue(i.format),this.label=new $(e,xn({vertical:n.vertical,id:si()},n.labels)),this.append(this.label))},formatValue:function(e){return this.owner.formatPointValue(this,e)},reflow:function(e){var t,n,i,r;if(this.render(),t=this,n=t.options,i=t.label,t.box=e,i&&(i.options.aboveAxis=t.aboveAxis,i.reflow(e)),t.note&&t.note.reflow(e),t.errorBars)for(r=0;t.errorBars.length>r;r++)t.errorBars[r].reflow(e)},getViewElements:function(e){var t=this,n=t.options,i=n.vertical,r=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,strokeOpacity:n.border.opacity,dashType:n.border.dashType}:{},o=t.box,a=xn({id:t.id,fill:t.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,vertical:n.vertical,aboveAxis:t.aboveAxis,stackBase:n.stackBase,animation:n.animation,data:{modelId:t.modelId}},r),s=[];return t.visible!==!1&&(o.width()>0&&o.height()>0&&(n.overlay&&(a.overlay=xn({rotation:i?0:90},n.overlay)),s.push(e.createRect(o,a))),Yn(s,Fn.fn.getViewElements.call(t,e))),s},highlightOverlay:function(e,t){var n=this,i=n.box;return t=xn({data:{modelId:n.modelId}},t),e.createRect(i,t)},getBorderColor:function(){var e=this,t=e.options,n=e.color,i=t.border,r=i.color,o=i._brightness||mi;return Kn(r)||(r=new zn(n).brightness(o).toHex()),r},tooltipAnchor:function(e,t){var n,i,r,o,a=this,s=a.options,l=a.box,c=s.vertical,d=a.aboveAxis,u=a.owner.pane.clipBox()||l;return c?(n=l.x2+xo,i=d?gn.max(l.y1,u.y1):gn.min(l.y2,u.y2)-t):(r=gn.max(l.x1,u.x1),o=gn.min(l.x2,u.x2),s.isStacked?(n=d?o-e:r,i=l.y1-t-xo):(n=d?o+xo:r-e-xo,i=l.y1)),new Vn(n,i)}}),xn(it.fn,tt),xn(it.fn,nt),rt=function(e,t,n){var i=this;i.errorValue=e,i.initGlobalRanges(e,t,n)},rt.prototype=rt.fn={percentRegex:/percent(?:\w*)\((\d+)\)/,standardDeviationRegex:RegExp("^"+lo+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),initGlobalRanges:function(e,t,n){var i,r,o,a,s,l=this,c=t.data,d=l.standardDeviationRegex.exec(e);d?(l.valueGetter=l.createValueGetter(t,n),i=l.getAverage(c),r=l.getStandardDeviation(c,i,!1),o=d[1]?parseFloat(d[1]):1,a={low:i.value-r*o,high:i.value+r*o},l.globalRange=function(){return a}):e.indexOf&&e.indexOf(so)>=0&&(l.valueGetter=l.createValueGetter(t,n),s=l.getStandardError(c,l.getAverage(c)),l.globalRange=function(e){return{low:e-s,high:e+s}})},createValueGetter:function(e,t){var n,i,r,o=e.data,a=G.current,s=a.valueFields(e),l=Kn(o[0])?o[0]:{};return pn(l)?(n=t?H(t,s):0,r=Cn("["+n+"]")):P(l)?r=Cn():typeof l===Hr&&(i=a.sourceFields(e,s),r=Cn(i[H(t,s)])),r},getErrorRange:function(e){var t,n,i,r,o=this,a=o.errorValue;if(Kn(a)){if(o.globalRange)return o.globalRange(e);if(pn(a))t=e-a[0],n=e+a[1];else if(P(i=parseFloat(a)))t=e-i,n=e+i;else{if(!(i=o.percentRegex.exec(a)))throw Error("Invalid ErrorBar value: "+a);r=e*(parseFloat(i[1])/100),t=e-gn.abs(r),n=e+gn.abs(r)}return{low:t,high:n}}},getStandardError:function(e,t){return this.getStandardDeviation(e,t,!0)/gn.sqrt(t.count)},getStandardDeviation:function(e,t,n){var i,r,o=0,a=e.length,s=n?t.count-1:t.count;for(r=0;a>r;r++)i=this.valueGetter(e[r]),P(i)&&(o+=gn.pow(i-t.value,2));return gn.sqrt(o/s)},getAverage:function(e){var t,n,i=0,r=0,o=e.length;for(n=0;o>n;n++)t=this.valueGetter(e[n]),P(t)&&(i+=t,r++);return{value:i/r,count:r}}},ot=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.id=si(),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.seriesOptions=[],n._evalSeries=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1,clip:!0},render:function(){var e=this;e.traverseDataPoints(vn(e.addValue,e))},pointOptions:function(e,t){var n,i=this.seriesOptions[t];return i||(n=this.pointType().fn.defaults,this.seriesOptions[t]=i=xn({},n,{vertical:!this.options.invertAxes},e)),i},plotValue:function(e){var t,n,i,r,o,a,s;if(!e)return 0;if(this.options.isStacked100&&P(e.value)){for(t=e.categoryIx,n=this.categoryPoints[t],i=0,r=0;n.length>r;r++)if(o=n[r]){if(a=e.series.stack,s=o.series.stack,a&&s&&a.group!==s.group)continue;P(o.value)&&(i+=gn.abs(o.value))}if(i>0)return e.value/i}return e.value},plotRange:function(e,t){var n,i,r,o,a,s,l,c,d,u,h,p,f=e.categoryIx,g=this.categoryPoints[f];if(this.options.isStacked){for(t=t||0,n=this.plotValue(e),i=n>0,r=t,o=!1,a=0;g.length>a&&(s=g[a],e!==s);a++){if(l=e.series.stack,c=s.series.stack,l&&c){if(typeof l===co&&l!==c)continue;if(l.group&&l.group!==c.group)continue}d=this.plotValue(s),(d>0&&i||0>d&&!i)&&(r+=d,n+=d,o=!0)}return o&&(r-=t),[r,n]}return u=e.series,h=this.seriesValueAxis(u),p=this.categoryAxisCrossingValue(h),[p,e.value||p]},stackLimits:function(e,t){var n,i,r,o,a,s=kr,l=Cr;for(n=0;this.categoryPoints.length>n;n++)for(i=this.categoryPoints[n],r=0;i.length>r;r++)o=i[r],o&&(o.series.stack===t||o.series.axis===e)&&(a=this.plotRange(o,0)[1],Kn(a)&&(l=gn.max(l,a),s=gn.min(s,a)));return{min:s,max:l}},updateStackRange:function(){var e,t,n,o,a,s=this,l=s.options.isStacked;if(l)for(t=0;s.options.series.length>t;t++)n=s.options.series[t],o=n.axis,a=s.errorTotals,e=s.stackLimits(o,n.stack),a&&(a.negative.length&&(e.min=gn.min(e.min,i(a.negative))),a.positive.length&&(e.max=gn.max(e.max,r(a.positive)))),s.valueAxisRanges[o]=e},addErrorBar:function(e,t,n){var i,r=this,o=e.value,a=e.series,s=e.seriesIx,l=e.options.errorBars,c=t.fields[Ki],d=t.fields[Xi];P(c)&&P(d)?i={low:c,high:d}:l&&Kn(l.value)&&(r.seriesErrorRanges=r.seriesErrorRanges||[],r.seriesErrorRanges[s]=r.seriesErrorRanges[s]||new rt(l.value,a,Do),i=r.seriesErrorRanges[s].getErrorRange(o)),i&&(e.low=i.low,e.high=i.high,r.addPointErrorBar(e,n))},addPointErrorBar:function(e,t){var n,i,r,o=this,a=e.series,s=e.low,l=e.high,c=!o.options.invertAxes,d=e.options.errorBars;o.options.isStacked?(i=o.stackedErrorRange(e,t),s=i.low,l=i.high):(r={categoryIx:t,series:a},o.updateRange({value:s},r),o.updateRange({value:l},r)),n=new pt(s,l,c,o,a,d),e.errorBars=[n],e.append(n)},stackedErrorRange:function(e,t){var n=this,i=n.plotRange(e,0)[1]-e.value,r=e.low+i,o=e.high+i;return n.errorTotals=n.errorTotals||{positive:[],negative:[]},0>r&&(n.errorTotals.negative[t]=gn.min(n.errorTotals.negative[t]||0,r)),o>0&&(n.errorTotals.positive[t]=gn.max(n.errorTotals.positive[t]||0,o)),{low:r,high:o}},addValue:function(t,n){var i,r,o=this,a=n.categoryIx,s=n.series,l=n.seriesIx,c=o.categoryPoints[a];c||(o.categoryPoints[a]=c=[]),i=o.seriesPoints[l],i||(o.seriesPoints[l]=i=[]),r=o.createPoint(t,n),r&&(e.extend(r,n),r.owner=o,r.dataItem=s.data[a],r.noteText=t.fields.noteText,o.addErrorBar(r,t,a)),o.points.push(r),i.push(r),c.push(r),o.updateRange(t.valueFields,n)},evalPointOptions:function(e,t,n,i,r,o){var a={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip"]},s=this._evalSeries[o];return Kn(s)||(this._evalSeries[o]=s=B(e,{},a,!0)),s&&(e=xn({},e),B(e,{value:t,category:n,index:i,series:r,dataItem:r.data[i]},a)),e},updateRange:function(e,t){var n=this,i=t.series.axis,r=e.value,o=n.valueAxisRanges[i];isFinite(r)&&null!==r&&(o=n.valueAxisRanges[i]=o||{min:kr,max:Cr},o.min=gn.min(o.min,r),o.max=gn.max(o.max,r))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw Error("Unable to locate value axis with name "+n);return i},reflow:function(e){var t,n,i,r=this,o=0,a=r.categorySlots=[],s=r.points,l=r.categoryAxis;r.traverseDataPoints(function(e,c){var d,u,h,p,f=c.categoryIx,g=c.series;t=r.pointValue(e),n=r.seriesValueAxis(g),i=s[o++],d=a[f],d||(a[f]=d=r.categorySlot(l,f,n)),i&&(u=r.plotRange(i,n.startValue()),h=n.getSlot(u[0],u[1],!r.options.clip),h?(p=r.pointSlot(d,h),i.aboveAxis=r.aboveAxis(i,n),r.options.isStacked100&&(i.percentage=r.plotValue(i)),r.reflowPoint(i,p)):i.visible=!1)}),r.reflowCategories(a),r.box=e},aboveAxis:function(e,t){var n=this.categoryAxisCrossingValue(t),i=e.value;return t.options.reverse?n>i:i>=n},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue);return i[t.axisIndex||0]||0},reflowPoint:function(e,t){e.reflow(t)},reflowCategories:function(){},pointSlot:function(e,t){var n=this,i=n.options,r=i.invertAxes,o=r?t:e,a=r?e:t;return new Pn(o.x1,a.y1,o.x2,a.y2)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,n,i,r,o,a=this,s=a.options,l=s.series,c=a.categoryAxis.options.categories||[],d=h(l),u=l.length;for(t=0;d>t;t++)for(n=0;u>n;n++)o=l[n],r=c[t],i=this._bindPoint(o,n,t),e(i,{category:r,categoryIx:t,series:o,seriesIx:n})},_bindPoint:function(e,t,n){var i,r;return this._bindCache||(this._bindCache=[]),i=this._bindCache[t],i||(i=this._bindCache[t]=[]),r=i[n],r||(r=i[n]=G.current.bindPoint(e,n)),r},formatPointValue:function(e,t){return null===e.value?"":Qn(t,e.value)},pointValue:function(e){return e.valueFields.value},getViewElements:function(e){var t=this,n=Fn.fn.getViewElements.call(t,e),i=e.createGroup({id:t.id});return i.children=n,[i]}}),at=ot.extend({render:function(){var e=this;ot.fn.render.apply(e),e.updateStackRange()},pointType:function(){return it},clusterType:function(){return J},stackType:function(){return et},stackLimits:function(e,t){var n=ot.fn.stackLimits.call(this,e,t);return n.min=gn.min(0,n.min),n.max=gn.max(0,n.max),n},createPoint:function(e,t){var n,i,r,o,a=this,s=t.categoryIx,l=t.category,c=t.series,d=t.seriesIx,u=a.pointValue(e),h=a.options,p=a.children,f=a.options.isStacked,g=a.pointType(),m=a.clusterType(),v=this.pointOptions(c,d),_=v.labels;return f&&_.position==Nr&&(_.position=hr),v.isStacked=f,r=e.fields.color||c.color,0>u&&v.negativeColor&&(r=v.negativeColor),v=a.evalPointOptions(v,u,l,s,c,d),_n.isFunction(c.color)&&(r=v.color),n=new g(u,v),n.color=r,i=p[s],i||(i=new m({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing}),a.append(i)),f?(o=a.getStackWrap(c,i),o.append(n)):i.append(n),n},getStackWrap:function(e,t){var n,i,r,o=e.stack,a=o?o.group||o:o,s=t.children;if(typeof a===co){for(i=0;s.length>i;i++)if(s[i]._stackGroup===a){n=s[i];break}}else n=s[0];return n||(r=this.stackType(),n=new r({vertical:!this.options.invertAxes}),n._stackGroup=a,t.append(n)),n},categorySlot:function(e,t,n){var i,r,o=this,a=o.options,s=e.getSlot(t),l=n.startValue();return a.isStacked&&(r=n.getSlot(l,l,!0),i=a.invertAxes?zo:Bo,s[i+1]=s[i+2]=r[i+1]),s},reflowCategories:function(e){var t,n=this,i=n.children,r=i.length;for(t=0;r>t;t++)i[t].reflow(e[t])}}),st=it.extend({defaults:{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}},createLabel:function(){var e=this.options.labels,t=xn({},e,e.from),n=xn({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))},_createLabel:function(e){var t,n;return e.template?(n=Tn(e.template),t=n({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})):t=this.formatValue(e.format),new $(t,xn({vertical:this.options.vertical,id:si()},e))},reflow:function(e){this.render();var t=this,n=t.labelFrom,i=t.labelTo;t.box=e,n&&(n.options.aboveAxis=t.value.from>t.value.to,n.reflow(e)),i&&(i.options.aboveAxis=t.value.to>t.value.from,i.reflow(e)),t.note&&t.note.reflow(e)}}),lt=at.extend({pointType:function(){return st},pointValue:function(e){return e.valueFields},formatPointValue:function(e,t){return null===e.value.from&&null===e.value.to?"":Qn(t,e.value.from,e.value.to)},plotLimits:ot.fn.plotLimits,plotRange:function(e){return e?[e.value.from,e.value.to]:0},updateRange:function(e,t){var n=this,i=t.series.axis,r=e.from,o=e.to,a=n.valueAxisRanges[i];null!==e&&P(r)&&P(o)&&(a=n.valueAxisRanges[i]=a||{min:kr,max:Cr},a.min=gn.min(a.min,r),a.max=gn.max(a.max,r),a.min=gn.min(a.min,o),a.max=gn.max(a.max,o))},aboveAxis:function(e){var t=e.value;return t.to>t.from}}),ct=ot.extend({init:function(e,t){var n=this;n.wrapData(t),ot.fn.init.call(n,e,t)},wrapData:function(e){var t,n,i,r=e.series;for(t=0;r.length>t;t++)i=r[t],n=i.data,n&&!pn(n[0])&&typeof n[0]!=Hr&&(i.data=[n])},reflowCategories:function(e){var t,n=this,i=n.children,r=i.length;for(t=0;r>t;t++)i[t].reflow(e[t])},plotRange:function(e){var t=e.series,n=this.seriesValueAxis(t),i=this.categoryAxisCrossingValue(n);return[i,e.value.current||i]},createPoint:function(e,t){var n,i,r=this,o=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=e.valueFields,d=r.options,u=r.children,h=xn({vertical:!d.invertAxes,overlay:s.overlay,categoryIx:o,invertAxes:d.invertAxes},s);return h=r.evalPointOptions(h,c,a,o,s,l),n=new dt(c,h),i=u[o],i||(i=new J({vertical:d.invertAxes,gap:d.gap,spacing:d.spacing}),r.append(i)),i.append(n),n},updateRange:function(e,t){var n=this,i=t.series.axis,r=e.current,o=e.target,a=n.valueAxisRanges[i];Kn(r)&&!isNaN(r)&&Kn(o&&!isNaN(o))&&(a=n.valueAxisRanges[i]=a||{min:kr,max:Cr},a.min=gn.min.apply(gn,[a.min,r,o]),a.max=gn.max.apply(gn,[a.max,r,o]))},formatPointValue:function(e,t){return Qn(t,e.value.current,e.value.target)},pointValue:function(e){return e.valueFields.current},aboveAxis:function(e){var t=e.value.current;return t>0}}),dt=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.value=e,n.aboveAxis=n.options.aboveAxis,n.id=si(),n.enableDiscovery()},options:{color:Fo,border:{width:1},vertical:!1,animation:{type:gi},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var e=this,t=e.options;e._rendered||(e._rendered=!0,Kn(e.value.target)&&(e.target=new ut({type:t.target.shape,background:t.target.color||t.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:bo,align:Yr}),e.target.id=e.id,e.append(e.target)),e.createNote())},reflow:function(e){this.render();var t,n=this,i=n.options,r=n.owner,o=n.target,a=i.invertAxes,s=r.seriesValueAxis(n.options),l=r.categorySlot(r.categoryAxis,i.categoryIx,s),c=s.getSlot(n.value.target),d=a?c:l,u=a?l:c;o&&(t=new Pn(d.x1,u.y1,d.x2,u.y2),o.options.height=a?t.height():i.target.line.width,o.options.width=a?i.target.line.width:t.width(),o.reflow(t)),n.note&&n.note.reflow(e),n.box=e},getViewElements:function(e){var t=this,n=t.options,i=n.vertical,r=n.border.width>0?{stroke:n.border.color||n.color,strokeWidth:n.border.width,dashType:n.border.dashType}:{},o=t.box,a=xn({id:t.id,fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,vertical:n.vertical,aboveAxis:t.aboveAxis,animation:n.animation,data:{modelId:t.modelId}},r),s=[];return o.width()>0&&o.height()>0&&(n.overlay&&(a.overlay=xn({rotation:i?0:90},n.overlay)),s.push(e.createRect(o,a))),Yn(s,Fn.fn.getViewElements.call(t,e)),s},tooltipAnchor:function(e,t){var n,i,r=this,o=r.options,a=r.box,s=o.vertical,l=r.aboveAxis;return s?(n=a.x2+xo,i=l?a.y1:a.y2-t):o.isStacked?(n=l?a.x2-e:a.x1,i=a.y1-t-xo):(n=l?a.x2+xo:a.x1-e-xo,i=a.y1),new Vn(n,i)},highlightOverlay:function(e,t){var n=this,i=n.box;return t=xn({data:{modelId:n.modelId}},t),e.createRect(i,t)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),xn(dt.fn,tt),xn(dt.fn,nt),ut=jn.extend(),xn(ut.fn,tt),ht=Fn.extend({init:function(e,t,n,i,r,o){var a=this;a.low=e,a.high=t,a.isVertical=n,a.chart=i,a.series=r,Fn.fn.init.call(a,o)},getAxis:function(){},reflow:function(e){var t,n=this,i=n.options.endCaps,r=n.isVertical,o=n.getAxis(),a=o.getSlot(n.low,n.high),s=e.center(),l=n.getCapsWidth(e,r),c=r?s.x:s.y,d=c-l,u=c+l;r?(t=[Vn(s.x,a.y1),Vn(s.x,a.y2)],i&&t.push(Vn(d,a.y1),Vn(u,a.y1),Vn(d,a.y2),Vn(u,a.y2))):(t=[Vn(a.x1,s.y),Vn(a.x2,s.y)],i&&t.push(Vn(a.x1,d),Vn(a.x1,u),Vn(a.x2,d),Vn(a.x2,u))),n.linePoints=t},getCapsWidth:function(e,t){var n=t?e.width():e.height(),i=gn.min(gn.floor(n/2),ji)||ji;return i},getViewElements:function(e){var t,n=this,i=n.options,r=i.line,o={stroke:i.color,strokeWidth:r.width,zIndex:r.zIndex,align:!1,dashType:r.dashType},a=n.linePoints,s=[];for(t=0;a.length>t;t+=2)s.push(e.createLine(a[t].x,a[t].y,a[t+1].x,a[t+1].y,o));return s},options:{animation:{type:nr,delay:dr},endCaps:!0,line:{width:1,zIndex:1}}}),pt=ht.extend({getAxis:function(){var e=this,t=e.chart,n=e.series,i=t.seriesValueAxis(n);return i}}),ft=ht.extend({getAxis:function(){var e=this,t=e.chart,n=e.series,i=t.seriesAxes(n),r=e.isVertical?i.y:i.x;return r}}),gt=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n),n.value=e,n.options=t,n.color=t.color,n.aboveAxis=li(n.options.aboveAxis,!0),n.id=si(),n.tooltipTracking=!0,n.enableDiscovery()},defaults:{vertical:!0,markers:{visible:!0,background:Fo,size:_r,type:Ai,border:{width:2},opacity:1},labels:{visible:!1,position:di,margin:Jn(3),padding:Jn(4),animation:{type:nr,delay:dr}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var e,t=this,n=t.options,i=n.markers,r=n.labels,o=t.value;t._rendered||(t._rendered=!0,i.visible&&i.size&&(t.marker=t.createMarker(),t.marker.id=t.id,t.append(t.marker)),r.visible&&(r.template?(e=Tn(r.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,percentage:t.percentage,series:t.series})):r.format&&(o=t.formatValue(r.format)),t.label=new qn(o,xn({id:si(),align:Ti,vAlign:Ti,margin:{left:5,right:5}},r)),t.append(t.label)),t.createNote(),t.errorBar&&t.append(t.errorBar))},markerBorder:function(){var e=this.options.markers,t=e.background,n=xn({color:this.color},e.border);return Kn(n.color)||(n.color=new zn(t).brightness(mi).toHex()),n},createMarker:function(){var e=this.options.markers,t=new jn({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,zIndex:e.zIndex,animation:e.animation});return t},markerBox:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box},reflow:function(e){var t,n,i,r,o=this,a=o.options,s=a.vertical,l=o.aboveAxis;if(o.render(),o.box=e,t=e.clone(),s?l?t.y1-=t.height():t.y2+=t.height():l?t.x1+=t.width():t.x2-=t.width(),o._childBox=t,o.marker&&o.marker.reflow(t),o.reflowLabel(t),o.errorBars)for(i=0;o.errorBars.length>i;i++)o.errorBars[i].reflow(t);o.note&&(r=o.markerBox(),o.marker||(n=r.center(),r=Pn(n.x,n.y,n.x,n.y)),o.note.reflow(r))},reflowLabel:function(e){var t=this,n=t.options,i=t.label,r=n.labels.position;i&&(r=r===di?bo:r,r=r===vi?wi:r,i.reflow(e),i.box.alignTo(t.markerBox(),r),i.reflow(i.box))},highlightOverlay:function(e,t){var n,i=this,r=i.options.highlight,o=r.markers,a=i.markerBorder().color;return t=xn({data:{modelId:i.modelId}},t,{fill:o.color||a,stroke:o.border.color,strokeWidth:o.border.width,strokeOpacity:o.border.opacity||0,fillOpacity:o.opacity||1,visible:o.visible}),n=this.marker,n||(n=this.createMarker(),n.reflow(this._childBox)),n.getViewElements(e,t)[0]},tooltipAnchor:function(e,n){var i=this,r=i.markerBox(),o=i.aboveAxis,a=r.x2+xo,s=o?r.y1-n:r.y2,l=i.owner.pane.clipBox(),c=!l||l.overlaps(r);return c?Vn(a,s):t},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),xn(gt.fn,tt),xn(gt.fn,nt),mt=gt.extend({init:function(e,t){var n=this;gt.fn.init.call(n,e,xn({},this.defaults,t)),n.category=e.category},defaults:{labels:{position:Ti},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,r=i.border.width,o=n.markers,a=t.box.center(),s=o.size/2-r/2,l=i.border.color||new zn(o.background).brightness(mi).toHex();return e.createCircle(a,s,{id:null,data:{modelId:t.modelId},stroke:l,strokeWidth:r,strokeOpacity:i.border.opacity})},toggleHighlight:function(e){var n,i=this,r=i.options.highlight.opacity;i.highlighted=!i.highlighted,n=i.marker.getViewElements(e,{fillOpacity:i.highlighted?r:t})[0],n.refresh(Zn(this.id))}}),vt=Fn.extend({init:function(e,t,n){var i=this;Fn.fn.init.call(i),i.linePoints=e,i.series=t,i.seriesIx=n,i.id=si(),i.enableDiscovery()},options:{closed:!1},points:function(e){var t,n,i=this,r=i.linePoints.concat(e||[]),o=Array(r.length);for(t=0,n=r.length;n>t;t++)r[t].visible!==!1&&(o[t]=r[t]._childBox.center());return o},getViewElements:function(e){var t=this,n=t.options,i=t.series,r=i._defaults,o=i.color;return Fn.fn.getViewElements.call(t,e),Sn(o)&&r&&(o=r.color),[e.createPolyline(t.points(),n.closed,{id:t.id,stroke:o,strokeWidth:i.width,strokeOpacity:i.opacity,fill:"",dashType:i.dashType,data:{modelId:t.modelId},zIndex:-1,align:!1})]},aliasFor:function(e,t){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,i)}}),_t={renderSegments:function(){var e,t,n,i,r,o,a,s=this,l=s.options,c=l.series,d=s.seriesPoints,u=d.length,h=[];for(t=0;u>t;t++){for(e=c[t],n=s.sortPoints(d[t]),a=n.length,i=[],o=0;a>o;o++)r=n[o],r?i.push(r):s.seriesMissingValues(e)!==pr&&(i.length>1&&h.push(s.createSegment(i,e,t,ni(h))),i=[]);i.length>1&&h.push(s.createSegment(i,e,t,ni(h)))}s._segments=h,s.append.apply(s,h)},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues,n=!t&&this.options.isStacked;return n?Lo:t||pr},getNearestPoint:function(e,t,n){var i,r,o,a,s,l=new Vn(e,t),c=this.seriesPoints[n],d=kr;for(r=0;c.length>r;r++)o=c[r],o&&Kn(o.value)&&null!==o.value&&o.visible!==!1&&(a=o.box,s=a.center().distanceTo(l),d>s&&(i=o,d=s));return i}},yt=ot.extend({init:function(e,t){var n=this;n.enableDiscovery(),ot.fn.init.call(n,e,t)},render:function(){var e=this;ot.fn.render.apply(e),e.updateStackRange(),e.renderSegments()},pointType:function(){return gt},createPoint:function(e,t){var n,i,r,o=this,a=t.categoryIx,s=t.category,l=t.series,c=t.seriesIx,d=e.valueFields.value,u=o.seriesMissingValues(l);if(!Kn(d)||null===d){if(u!==Lo)return null;d=0}return i=this.pointOptions(l,c),i=o.evalPointOptions(i,d,s,a,l,c),r=e.fields.color||l.color,_n.isFunction(l.color)&&(r=i.color),n=new gt(d,i),n.color=r,o.append(n),n},plotRange:function(e){var t,n,i,r,o=this.plotValue(e);if(this.options.isStacked)for(t=e.categoryIx,n=this.categoryPoints[t],i=0;n.length>i&&(r=n[i],e!==r);i++)o+=this.plotValue(r);return[o,o]},createSegment:function(e,t,n){var i,r=t.style;return new(i=r===oo?wt:r===ao?bt:vt)(e,t,n)},getViewElements:function(e){var t=this,n=ot.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Ii}}),r=e.createGroup({id:t.id});return i.children=n,r.children=[i],[r]}}),xn(yt.fn,_t),wt=vt.extend({points:function(e){var t,n=this;return t=n.calculateStepPoints(n.linePoints),e&&e.length&&(t=t.concat(n.calculateStepPoints(e).reverse())),t},calculateStepPoints:function(e){var t,n,i,r,o,a=this,s=a.parent,l=s.plotArea,c=l.seriesCategoryAxis(a.series),d=s.seriesMissingValues(a.series)===pr,u=e.length,h=c.options.reverse,p=c.options.vertical,f=h?2:1,g=h?1:2,m=[];for(i=1;u>i;i++)t=e[i-1],n=e[i],r=t.markerBox().center(),o=n.markerBox().center(),c.options.justified?(m.push(Vn(r.x,r.y)),m.push(p?Vn(r.x,o.y):Vn(o.x,r.y)),m.push(Vn(o.x,o.y))):p?(m.push(Vn(r.x,t.box[Bo+f])),m.push(Vn(r.x,t.box[Bo+g])),d&&m.push(Vn(r.x,n.box[Bo+f])),m.push(Vn(o.x,n.box[Bo+f])),m.push(Vn(o.x,n.box[Bo+g]))):(m.push(Vn(t.box[zo+f],r.y)),m.push(Vn(t.box[zo+g],r.y)),d&&m.push(Vn(n.box[zo+f],r.y)),m.push(Vn(n.box[zo+f],o.y)),m.push(Vn(n.box[zo+g],o.y)));return m||[]}}),bt=vt.extend({points:function(){var e=this,t=new Bn(e.options.closed),n=vt.fn.points.call(this);return t.process(n)},getViewElements:function(e){var t=this,n=t.series,i=n._defaults,r=n.color;return Fn.fn.getViewElements.call(t,e),Sn(r)&&i&&(r=i.color),[e.createCubicCurve(t.points(),{id:t.id,stroke:r,strokeWidth:n.width,strokeOpacity:n.opacity,fill:"",dashType:n.dashType,data:{modelId:t.modelId},zIndex:-1})]}}),kt={points:function(){var e,t,n=this,i=n.parent,r=i.plotArea,o=i.options.invertAxes,a=i.seriesValueAxis(n.series),s=a.lineBox(),l=r.seriesCategoryAxis(n.series),c=l.lineBox(),d=o?c.x1:c.y1,u=n.stackPoints,h=n._linePoints(u),p=o?zo:Bo;return d=ii(d,s[p+1],s[p+2]),!n.stackPoints&&h.length>1&&(e=h[0],t=ni(h),o?(h.unshift(Vn(d,e.y)),h.push(Vn(d,t.y))):(h.unshift(Vn(e.x,d)),h.push(Vn(t.x,d)))),h},getViewElements:function(e){var t,n=this,i=n.series,r=i._defaults,o=i.color,a=[];return Fn.fn.getViewElements.call(n,e),Sn(o)&&r&&(o=r.color),a.push(this.createArea(e,o)),t=this.createLine(e,o),t&&a.push(t),a},createLine:function(e,t){var n,i=this,r=i.series,o=xn({color:t,opacity:r.opacity},r.line);return o.visible!==!1&&o.width>0&&(n=e.createPolyline(i._linePoints(),!1,{stroke:o.color,strokeWidth:o.width,strokeOpacity:o.opacity,dashType:o.dashType,data:{modelId:i.modelId},strokeLineCap:"butt",zIndex:-1,align:!1})),n},createArea:function(e,t){var n=this,i=n.series;return e.createPolyline(n.points(),!1,{id:n.id,fillOpacity:i.opacity,fill:t,stack:i.stack,data:{modelId:n.modelId},zIndex:-1})}},xt=vt.extend({init:function(e,t,n,i){var r=this;r.stackPoints=t,vt.fn.init.call(r,e,n,i)},_linePoints:vt.fn.points}),xn(xt.fn,kt),Ct=yt.extend({createSegment:function(e,t,n,i){var r,o,a=this,s=a.options,l=s.isStacked,c=(t.line||{}).style;return l&&n>0&&i&&(r=i.linePoints,c!==oo&&(r=r.slice(0).reverse())),c===ao?new St(e,i,l,t,n):new(o=c===oo?Tt:xt)(e,r,t,n)},seriesMissingValues:function(e){return e.missingValues||Lo}}),St=xt.extend({init:function(e,t,n,i,r){var o=this;o.prevSegment=t,o.isStacked=n,vt.fn.init.call(o,e,i,r)},points:function(){var e,t,n=this,i=n.prevSegment,r=new Bn(n.options.closed),o=vt.fn.points.call(this),a=r.process(o);return n.curvePoints=a,n.isStacked&&i?(t=a.slice(0),t.push(ni(a)),e=i.curvePoints.slice(0).reverse(),e.unshift(e[0]),t=t.concat(e),t.push(ni(e),t[0],t[0])):t=n.curvePoints,t},areaPoints:function(e){var t=this,n=t.parent,i=t.prevSegment,r=n.plotArea,o=n.options.invertAxes,a=n.seriesValueAxis(t.series),s=a.lineBox(),l=r.seriesCategoryAxis(t.series),c=l.lineBox(),d=o?c.x1:c.y1,u=o?zo:Bo,h=e[0],p=ni(e),f=[];return d=ii(d,s[u+1],s[u+2]),n.options.isStacked&&i||!(e.length>1)||(o?(f.push(Vn(d,h.y)),f.unshift(Vn(d,p.y))):(f.push(Vn(h.x,d)),f.unshift(Vn(p.x,d)))),f},getViewElements:function(e){var t,n=this,i=n.series,r=i._defaults,o=i.color,a=n.points(),s=n.areaPoints(a),l=[];return Fn.fn.getViewElements.call(n,e),Sn(o)&&r&&(o=r.color),t=xn({color:o,opacity:i.opacity},i.line),l.push(e.createCubicCurve(a,{id:n.id,fillOpacity:i.opacity,fill:o,stack:i.stack,data:{modelId:n.modelId},zIndex:-1},s)),t.width>0&&l.push(e.createCubicCurve(n.curvePoints,{stroke:t.color,strokeWidth:t.width,strokeOpacity:t.opacity,dashType:t.dashType,data:{modelId:n.modelId},strokeLineCap:"butt",zIndex:-1})),l
}}),Tt=wt.extend({init:function(e,t,n,i){var r=this;r.stackPoints=t,wt.fn.init.call(r,e,n,i)},_linePoints:wt.fn.points}),xn(Tt.fn,kt),Dt=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.id=si(),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0},render:function(){var e=this;e.traverseDataPoints(vn(e.addValue,e))},addErrorBar:function(e,t,n){var i,r=this,o=e.value[t],a=t+"Value",s=t+"ErrorLow",l=t+"ErrorHigh",c=n.seriesIx,d=n.series,u=e.options.errorBars,h=n[s],p=n[l];P(o)&&(P(h)&&P(p)&&(i={low:h,high:p}),u&&Kn(u[a])&&(r.seriesErrorRanges=r.seriesErrorRanges||{x:[],y:[]},r.seriesErrorRanges[t][c]=r.seriesErrorRanges[t][c]||new rt(u[a],d,t),i=r.seriesErrorRanges[t][c].getErrorRange(o)),i&&r.addPointErrorBar(i,e,t))},addPointErrorBar:function(e,t,n){var i,r=this,o=e.low,a=e.high,s=t.series,l=n===Bo,c=t.options.errorBars,d={};t[n+"Low"]=o,t[n+"High"]=a,t.errorBars=t.errorBars||[],i=new ft(o,a,l,r,s,c),t.errorBars.push(i),t.append(i),d[n]=o,r.updateRange(d,s),d[n]=a,r.updateRange(d,s)},addValue:function(e,t){var n,i=this,r=e.x,o=e.y,a=t.seriesIx,s=i.seriesPoints[a];i.updateRange(e,t.series),Kn(r)&&null!==r&&Kn(o)&&null!==o&&(n=i.createPoint(e,t),n&&(mn(n,t),i.addErrorBar(n,zo,t),i.addErrorBar(n,Bo,t))),i.points.push(n),s.push(n)},updateRange:function(e,t){var n=this,i=e.x,r=e.y,o=t.xAxis,a=t.yAxis,s=n.xAxisRanges[o],l=n.yAxisRanges[a];Kn(i)&&null!==i&&(s=n.xAxisRanges[o]=s||{min:kr,max:Cr},typeof i===co&&(i=m(i)),s.min=gn.min(s.min,i),s.max=gn.max(s.max,i)),Kn(r)&&null!==r&&(l=n.yAxisRanges[a]=l||{min:kr,max:Cr},typeof r===co&&(r=m(r)),l.min=gn.min(l.min,r),l.max=gn.max(l.max,r))},evalPointOptions:function(e,t,n){var i=n.series;B(e,{value:t,series:i,dataItem:n.dataItem},{defaults:i._defaults,excluded:["data","tooltip"]})},createPoint:function(e,t){var n,i,r=this,o=t.series;return i=xn({},gt.fn.defaults,{markers:{opacity:o.opacity},tooltip:{format:r.options.tooltip.format},labels:{format:r.options.labels.format}},o,{color:t.color}),r.evalPointOptions(i,e,t),n=new gt(e,i),r.append(n),n},seriesAxes:function(e){var t=this.plotArea,n=e.xAxis,i=n?t.namedXAxes[n]:t.axisX,r=e.yAxis,o=r?t.namedYAxes[r]:t.axisY;if(!i)throw Error("Unable to locate X axis with name "+n);if(!o)throw Error("Unable to locate Y axis with name "+r);return{x:i,y:o}},reflow:function(e){var t,n,i=this,r=i.points,o=0,a=!i.options.clip;i.traverseDataPoints(function(e,s){t=r[o++],n=i.seriesAxes(s.series);var l,c=n.x.getSlot(e.x,e.x,a),d=n.y.getSlot(e.y,e.y,a);t&&(c&&d?(l=i.pointSlot(c,d),t.reflow(l)):t.visible=!1)}),i.box=e},pointSlot:function(e,t){return new Pn(e.x1,t.y1,e.x2,t.y2)},getViewElements:function(e){var t=this,n=Fn.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Ii}}),r=e.createGroup({id:t.id});return i.children=n,r.children=[i],[r]},traverseDataPoints:function(e){var t,n,i,r,o,a,s,l=this,c=l.options,d=c.series,u=l.seriesPoints;for(n=0;d.length>n;n++)for(i=d[n],r=u[n],r||(u[n]=[]),t=0;i.data.length>t;t++)o=this._bindPoint(i,n,t),a=o.valueFields,s=o.fields,e(a,xn({pointIx:t,series:i,seriesIx:n,dataItem:i.data[t],owner:l},s))},_bindPoint:ot.fn._bindPoint,formatPointValue:function(e,t){var n=e.value;return Qn(t,n.x,n.y)}}),At=Dt.extend({render:function(){var e=this;Dt.fn.render.call(e),e.renderSegments()},createSegment:function(e,t,n){var i,r=t.style;return new(i=r===ao?bt:vt)(e,t,n)}}),xn(At.fn,_t),Et=Dt.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){(null!==e.size&&e.size>=0||t.series.negativeValues.visible)&&Dt.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),Dt.fn.reflow.call(t,e)},createPoint:function(e,t){var n,i,r,o=this,a=t.series,s=a.data.length,l=t.pointIx*(dr/s),c={delay:l,duration:dr-l,type:ki};return n=_n.isFunction(a.color)?a.color:t.color?t.color:a.color,r=xn({tooltip:{format:o.options.tooltip.format},labels:{format:o.options.labels.format,animation:c}},a,{color:n,markers:{type:Ai,border:a.border,opacity:a.opacity,animation:c}}),o.evalPointOptions(r,e,t),0>e.size&&a.negativeValues.visible&&!_n.isFunction(a.color)&&(r.color=li(a.negativeValues.color,r.color)),r.markers.background=li(r.markers.background,r.color),i=new mt(e,r),i.color=r.color,o.append(i),i},updateBubblesSize:function(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f,g,m,v=this,_=v.options,y=_.series,w=gn.min(e.width(),e.height());for(t=0;y.length>t;t++)for(i=y[t],r=v.seriesPoints[t],o=v.maxSize(r),a=i.minSize||gn.max(.02*w,10),s=i.maxSize||.2*w,l=a/2,c=s/2,d=gn.PI*l*l,u=gn.PI*c*c,h=u-d,p=h/o,n=0;r.length>n;n++)f=r[n],g=gn.abs(f.value.size)*p,m=gn.sqrt((d+g)/gn.PI),xn(f.options,{markers:{size:2*m,zIndex:c-m},labels:{zIndex:c-m+1}})},maxSize:function(e){var t,n,i=e.length,r=0;for(t=0;i>t;t++)n=e[t].value.size,r=gn.max(r,gn.abs(n));return r},getViewElements:function(e){var t=this,n=Fn.fn.getViewElements.call(t,e),i=e.createGroup({id:t.id});return i.children=n,[i]},formatPointValue:function(e,t){var n=e.value;return Qn(t,n.x,n.y,n.size,e.category)}}),It=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.value=e,n.id=si(),n.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:ar},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function(e){var t,n,i,r=this,o=r.options,a=r.owner,s=r.value,l=a.seriesValueAxis(o),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=e.x1,n.x2=i.x2=e.x2,r.realBody=n,t=i.center().x,c.push([Vn(t,i.y1),Vn(t,n.y1)]),c.push([Vn(t,n.y2),Vn(t,i.y2)]),r.lowHighLinePoints=c,r.box=i.clone().wrap(n),r._rendered||(r._rendered=!0,r.createNote()),r.reflowNote()},reflowNote:function(){var e=this;e.note&&e.note.reflow(e.box)},getViewElements:function(e){var t=this,n=t.options,i=[],r=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType,strokeOpacity:li(n.border.opacity,n.opacity)}:{},o=xn({fill:t.color,fillOpacity:n.opacity},r),a={strokeOpacity:li(n.line.opacity,n.opacity),strokeWidth:n.line.width,stroke:n.line.color||t.color,dashType:n.line.dashType,strokeLineCap:"butt"};return n.overlay&&(o.overlay=xn({rotation:0},n.overlay)),i.push(e.createRect(t.realBody,o)),i.push(e.createPolyline(t.lowHighLinePoints[0],!1,a)),i.push(e.createPolyline(t.lowHighLinePoints[1],!1,a)),i.push(t.createOverlayRect(e,n)),Yn(i,Fn.fn.getViewElements.call(t,e)),i},getBorderColor:function(){var e=this,t=e.options,n=t.border,i=n.color;return Kn(i)||(i=new zn(e.color).brightness(n._brightness).toHex()),i},createOverlayRect:function(e){var t=this;return e.createRect(t.box,{data:{modelId:t.modelId},fill:"#fff",id:t.id,fillOpacity:0})},highlightOverlay:function(e,t){var n=this,i=n.options,r=i.highlight,o=r.border,a=n.getBorderColor(),s=r.line,l={data:{modelId:n.modelId}},c=xn({},l,t,{stroke:a,strokeOpacity:o.opacity,strokeWidth:o.width}),d=xn({},l,{stroke:s.color||a,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),u=e.createGroup();return u.children.push(e.createRect(n.realBody,c)),u.children.push(e.createPolyline(n.lowHighLinePoints[0],!1,d)),u.children.push(e.createPolyline(n.lowHighLinePoints[1],!1,d)),u},tooltipAnchor:function(){var e=this,t=e.box,n=e.owner.pane.clipBox()||t;return new Vn(t.x2+xo,gn.max(t.y1,n.y1)+xo)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),xn(It.fn,tt),xn(It.fn,nt),Pt=ot.extend({options:{},reflowCategories:function(e){var t,n=this,i=n.children,r=i.length;for(t=0;r>t;t++)i[t].reflow(e[t])},addValue:function(e,t){var n,i,r=this,o=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=r.options,d=e.valueFields,u=r.children,h=r.splitValue(d),p=F(h),f=r.categoryPoints[o],g=s.data[o];f||(r.categoryPoints[o]=f=[]),p&&(n=r.createPoint(e,t)),i=u[o],i||(i=new J({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),r.append(i)),n&&(r.updateRange(d,t),i.append(n),n.categoryIx=o,n.category=a,n.series=s,n.seriesIx=l,n.owner=r,n.dataItem=g,n.noteText=e.fields.noteText),r.points.push(n),f.push(n)},pointType:function(){return It},createPoint:function(e,t){var n,i=this,r=t.categoryIx,o=t.category,a=t.series,s=t.seriesIx,l=e.valueFields,c=xn({},a),d=i.pointType(),u=e.fields.color||a.color;return c=i.evalPointOptions(c,l,o,r,a,s),a.type==Ci&&l.open>l.close&&(u=e.fields.downColor||a.downColor||a.color),_n.isFunction(a.color)&&(u=c.color),n=new d(l,c),n.color=u,n},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t){var n=this,i=t.series.axis,r=n.valueAxisRanges[i],o=n.splitValue(e);r=n.valueAxisRanges[i]=r||{min:kr,max:Cr},r=n.valueAxisRanges[i]={min:gn.min.apply(gn,o.concat([r.min])),max:gn.max.apply(gn,o.concat([r.max]))}},formatPointValue:function(e,t){var n=e.value;return Qn(t,n.open,n.high,n.low,n.close,e.category)},getViewElements:function(e){var t=this,n=Fn.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Ii}}),r=e.createGroup({id:t.id});return i.children=n,r.children=[i],[r]}}),Mt=It.extend({reflow:function(e){var t,n,i,r,o=this,a=o.options,s=o.owner,l=o.value,c=s.seriesValueAxis(a),d=[],u=[],h=[];r=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=r.x1=e.x1,n.x2=i.x2=r.x2=e.x2,t=r.center().x,d.push(Vn(n.x1,n.y1)),d.push(Vn(t,n.y1)),u.push(Vn(t,i.y1)),u.push(Vn(i.x2,i.y1)),h.push(Vn(t,r.y1)),h.push(Vn(t,r.y2)),o.oPoints=d,o.cPoints=u,o.lhPoints=h,o.box=r.clone().wrap(n.clone().wrap(i)),o.reflowNote()},getViewElements:function(e){var t=this,n=t.options,i=[],r=n.line,o={strokeOpacity:r.opacity||n.opacity,zIndex:-1,strokeWidth:r.width,stroke:t.color||r.color,dashType:r.dashType};return i.push(t.createOverlayRect(e,n)),i.push(e.createPolyline(t.oPoints,!0,o)),i.push(e.createPolyline(t.cPoints,!0,o)),i.push(e.createPolyline(t.lhPoints,!0,o)),Yn(i,Fn.fn.getViewElements.call(t,e)),i},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,r={data:{modelId:n.modelId}},o=xn(r,{strokeWidth:i.line.width,strokeOpacity:i.line.opacity,stroke:i.line.color||t.color}),a=e.createGroup();return a.children.push(e.createPolyline(t.oPoints,!0,o)),a.children.push(e.createPolyline(t.cPoints,!0,o)),a.children.push(e.createPolyline(t.lhPoints,!0,o)),a}}),Ft=Pt.extend({pointType:function(){return Mt}}),zt=Pt.extend({addValue:function(e,t){var n,i,r=this,o=t.categoryIx,a=t.category,s=t.series,l=t.seriesIx,c=r.options,d=r.children,u=e.valueFields,h=r.splitValue(u),p=F(h),f=r.categoryPoints[o],g=s.data[o];f||(r.categoryPoints[o]=f=[]),p&&(n=r.createPoint(e,t)),i=d[o],i||(i=new J({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),r.append(i)),n&&(r.updateRange(u,t),i.append(n),n.categoryIx=o,n.category=a,n.series=s,n.seriesIx=l,n.owner=r,n.dataItem=g),r.points.push(n),f.push(n)},pointType:function(){return Bt},splitValue:function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]},updateRange:function(e,t){var n=this,i=t.series.axis,r=n.valueAxisRanges[i],o=n.splitValue(e).concat(n.filterOutliers(e.outliers));Kn(e.mean)&&(o=o.concat(e.mean)),r=n.valueAxisRanges[i]=r||{min:kr,max:Cr},r=n.valueAxisRanges[i]={min:gn.min.apply(gn,o.concat([r.min])),max:gn.max.apply(gn,o.concat([r.max]))}},formatPointValue:function(e,t){var n=e.value;return Qn(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)},filterOutliers:function(e){var t,n,i=(e||[]).length,r=[];for(t=0;i>t;t++)n=e[t],Kn(n)&&E(r,n);return r}}),Bt=It.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.value=e,n.id=si(),n.enableDiscovery(),n.createNote()},options:{border:{_brightness:.8},line:{width:2},mean:{width:2,dashType:"dash"},overlay:{gradient:ar},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{6:d}</th><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:_r,type:zi,background:Fo,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:_r,type:Ai,background:Fo,border:{width:2,opacity:1},opacity:0}},reflow:function(e){var t,n,i,r,o,a=this,s=a.options,l=a.owner,c=a.value,d=l.seriesValueAxis(s),u=[];i=d.getSlot(c.q1,c.q3),a.boxSlot=i,n=d.getSlot(c.lower,c.upper),r=d.getSlot(c.median),i.x1=n.x1=e.x1,i.x2=n.x2=e.x2,c.mean&&(o=d.getSlot(c.mean),a.meanPoints=[Vn(e.x1,o.y1),Vn(e.x2,o.y1)]),t=n.center().x,u.push([[Vn(t-5,n.y1),Vn(t+5,n.y1)],[Vn(t,n.y1),Vn(t,i.y1)]]),u.push([[Vn(t-5,n.y2),Vn(t+5,n.y2)],[Vn(t,i.y2),Vn(t,n.y2)]]),a.whiskerPoints=u,a.medianPoints=[Vn(e.x1,r.y1),Vn(e.x2,r.y1)],a.box=n.clone().wrap(i),a.createOutliers(),a.reflowNote()},createOutliers:function(){var e,t,n,i,r,o=this,a=o.options,s=a.markers||{},l=o.value,c=l.outliers||[],d=o.owner.seriesValueAxis(a),u=3*gn.abs(l.q3-l.q1);for(o.outliers=[],r=0;c.length>r;r++)i=c[r],s=l.q3+u>i&&i>l.q1-u?a.outliers:a.extremes,e=xn({},s.border),Kn(e.color)||(e.color=Kn(o.color)?o.color:new zn(s.background).brightness(mi).toHex()),n=new jn({id:o.id,type:s.type,width:s.size,height:s.size,rotation:s.rotation,background:s.background,border:e,opacity:s.opacity}),t=d.getSlot(i).move(o.box.center().x),o.box=o.box.wrap(t),n.reflow(t),o.outliers.push(n)},getViewElements:function(e){var t=this,n=e.createGroup({animation:{type:Ii}}),i=t.render(e,t.options);return Yn(i,Fn.fn.getViewElements.call(t,e)),n.children=i,[n]},render:function(e,t){var n,i,r=this,o=[];if(o.push(r.createBody(e,t)),o.push(r.createWhisker(e,r.whiskerPoints[0],t)),o.push(r.createWhisker(e,r.whiskerPoints[1],t)),o.push(r.createMedian(e,t)),r.meanPoints&&o.push(r.createMean(e,t)),o.push(r.createOverlayRect(e,t)),r.outliers.length)for(n=0;r.outliers.length>n;n++)i=r.outliers[n],o.push(i.getViewElements(e)[0]);return o},createWhisker:function(e,t,n){return e.createMultiLine(t,{strokeOpacity:li(n.line.opacity,n.opacity),strokeWidth:n.line.width,stroke:n.line.color||this.color,dashType:n.line.dashType,strokeLineCap:"butt",data:{data:{modelId:this.modelId}}})},createMedian:function(e){var t=this,n=t.options;return e.createPolyline(t.medianPoints,!1,{strokeOpacity:li(n.median.opacity,n.opacity),strokeWidth:n.median.width,stroke:n.median.color||t.color,dashType:n.median.dashType,strokeLineCap:"butt",data:{data:{modelId:this.modelId}}})},createBody:function(e,t){var n=this,i=t.border.width>0?{stroke:n.color||n.getBorderColor(),strokeWidth:t.border.width,dashType:t.border.dashType,strokeOpacity:li(t.border.opacity,t.opacity)}:{},r=xn({fill:n.color,fillOpacity:t.opacity,data:{data:{modelId:this.modelId}}},i);return t.overlay&&(r.overlay=xn({rotation:0},t.overlay)),e.createRect(n.boxSlot,r)},createMean:function(e){var t=this,n=t.options;return e.createPolyline(t.meanPoints,!1,{strokeOpacity:li(n.mean.opacity,n.opacity),strokeWidth:n.mean.width,stroke:n.mean.color||t.color,dashType:n.mean.dashType,strokeLineCap:"butt",data:{data:{modelId:this.modelId}}})},highlightOverlay:function(e){var t=this,n=e.createGroup();return n.children=t.render(e,xn({},t.options.highlight,{border:{color:t.getBorderColor()}})),n}}),xn(Bt.fn,tt),Rt=Fn.extend({init:function(e,t,n){var i=this;i.value=e,i.sector=t,Fn.fn.init.call(i,n),i.id=si(),i.enableDiscovery()},options:{color:Fo,overlay:{gradient:Qr},border:{width:.5},labels:{visible:!1,distance:35,font:Ni,margin:Jn(.5),align:Ai,zIndex:1,position:Nr},animation:{type:Ur},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var e,t=this,n=t.options,i=n.labels,r=t.value;t._rendered||t.visible===!1||(t._rendered=!0,i.template?(e=Tn(i.template),r=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):i.format&&(r=Qn(i.format,r)),i.visible&&r&&(t.label=new qn(r,xn({},i,{id:si(),align:Ti,vAlign:"",animation:{type:nr,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,n,i,r=this,o=r.sector.clone(),a=r.options,s=r.label,l=a.labels,c=l.distance,d=o.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Ti?(o.r=gn.abs((o.r-i)/2)+i,e=o.point(d),s.reflow(Pn(e.x,e.y-i/2,e.x,e.y))):l.position==hr?(o.r=o.r-i/2,e=o.point(d),s.reflow(Pn(e.x,e.y-i/2,e.x,e.y))):(e=o.clone().expand(c).point(d),e.x>=o.c.x?(t=e.x+n,s.orientation=Yr):(t=e.x-n,s.orientation=fr),s.reflow(Pn(t,e.y-i,e.x,e.y))))},getViewElements:function(e){var t=this,n=t.sector,i=t.options,r=i.border||{},o=r.width>0?{stroke:r.color,strokeWidth:r.width,strokeOpacity:r.opacity,dashType:r.dashType}:{},a=[],s=i.overlay;return s&&(s=xn({},i.overlay,{r:n.r,ir:n.ir,cx:n.c.x,cy:n.c.y,bbox:n.getBBox()})),t.value&&a.push(t.createSegment(e,n,xn({id:t.id,fill:i.color,overlay:s,fillOpacity:i.opacity,strokeOpacity:i.opacity,animation:xn(i.animation,{delay:t.animationDelay}),data:{modelId:t.modelId},zIndex:i.zIndex,singleSegment:1===(t.options.data||[]).length},o))),Yn(a,Fn.fn.getViewElements.call(t,e)),a},createSegment:function(e,t,n){return n.singleSegment?e.createCircle(t.c,t.r,n):e.createSector(t,n)},highlightOverlay:function(e,t){var n,i=this,r=i.options.highlight||{},o=r.border||{},a=i.id+Vr;return t=xn({},t,{id:a}),0!==i.value&&(n=i.createSegment(e,i.sector,xn({},t,{fill:r.color,fillOpacity:r.opacity,strokeOpacity:o.opacity,strokeWidth:o.width,stroke:o.color,id:null,data:{modelId:i.modelId}}))),n},tooltipAnchor:function(e,t){var n=this,i=n.sector.adjacentBox(xo,e,t);return new Vn(i.x1,i.y1)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),xn(Rt.fn,tt),Lt={createLegendItem:function(e,t){var n,i,r,o,a,s=this,l=s.options.legend||{},c=l.labels||{},d=l.inactiveItems||{},u=d.labels||{};t&&t.visibleInLegend!==!1&&(a=t.visible!==!1,n=t.category||"",i=a?c.template:u.template||c.template,i&&(n=Tn(i)({text:n,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),a?(o={},r=(t.series||{}).color):(o={color:u.color,font:u.font},r=(d.markers||{}).color),n&&s.legendItems.push({pointIndex:t.index,text:n,series:t.series,markerColor:r,labels:o}))}},Ht=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.plotArea=e,n.points=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var e=this;e.traverseDataPoints(vn(e.addValue,e))},traverseDataPoints:function(e){var t,n,i,r,o,a,s,l,c,d,u,h,p,f=this,g=f.options,m=f.plotArea.options.seriesColors||[],v=m.length,_=g.series,y=_.length,w=si(),b=0;for(r=0;y>r;r++){for(t=_[r],a=t.data,u=j(t),s=360/u,h=Kn(t.startAngle)?t.startAngle:g.startAngle,r!=y-1&&t.labels.position==Nr&&(t.labels.position=Ti),p=0;a.length>p;p++)n=G.current.bindPoint(t,p),l=n.valueFields.value,c=gn.abs(l),i=n.fields,o=oi(c*s,Ui),d=1!=a.length&&!!i.explode,Sn(t.color)||(t.color=i.color||m[p%v]),e(l,new Wn(null,0,0,h,o),{owner:f,category:i.category||"",index:b,series:t,seriesIx:r,dataItem:a[p],percentage:c/u,explode:d,visibleInLegend:i.visibleInLegend,visible:i.visible,overlay:{id:w+r},zIndex:y-r,animationDelay:f.animationDelay(p,r,y)}),n.fields.visible!==!1&&(h+=o),b++;b=0}},evalSegmentOptions:function(e,t,n){var i=n.series;B(e,{value:t,series:i,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:i._defaults,excluded:["data"]})},addValue:function(e,t,n){var i,r,o=this;o.createLegendItem(e,n),n.visible!==!1&&(r=xn({},n.series,{index:n.index}),o.evalSegmentOptions(r,e,n),i=new Rt(e,t,r),mn(i,n),o.append(i),o.points.push(i))},reflow:function(e){var t,n,i,r,o,a,s,l,c=this,d=c.options,u=e.clone(),h=5,p=gn.min(u.width(),u.height()),f=p/2,g=p-.85*p,m=li(d.padding,g),v=Pn(u.x1,u.y1,u.x1+p,u.y1+p),_=v.center(),y=c.seriesConfigs||[],w=u.center(),b=c.points,k=b.length,x=d.series.length,C=[],S=[];for(m=m>f-h?f-h:m,v.translate(w.x-_.x,w.y-_.y),a=f-m,l=Vn(a+v.x1+m,a+v.y1+m),s=0;k>s;s++)r=b[s],o=r.sector,o.r=a,o.c=l,n=r.seriesIx,y.length&&(t=y[n],o.ir=t.ir,o.r=t.r),n==x-1&&r.explode&&(o.c=o.clone().radius(.15*o.r).point(o.middle())),r.reflow(v),i=r.label,i&&i.options.position===Nr&&n==x-1&&(i.orientation===Yr?S.push(i):C.push(i));C.length>0&&(C.sort(c.labelComparator(!0)),c.leftLabelsReflow(C)),S.length>0&&(S.sort(c.labelComparator(!1)),c.rightLabelsReflow(S)),c.box=v},leftLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabels:function(e){var t,n,i,r=this,o=r.points,a=o[o.length-1],s=a.sector,l=e[0].box,c=e.length-1,d=s.r+a.options.labels.distance,u=[];for(n=oi(l.y1-(s.c.y-d-l.height()-l.height()/2)),u.push(n),i=0;c>i;i++)l=e[i].box,t=e[i+1].box,n=oi(t.y1-l.y2),u.push(n);return n=oi(s.c.y+d-e[c].box.y2-e[c].box.height()/2),u.push(n),u},distributeLabels:function(e,t){var n,i,r,o,a=this,s=e.length;for(o=0;s>o;o++)for(i=r=o,n=-e[o];n>0&&(i>=0||s>r);)n=a._takeDistance(e,o,--i,n),n=a._takeDistance(e,o,++r,n);a.reflowLabels(e,t)},_takeDistance:function(e,t,n,i){if(e[n]>0){var r=gn.min(e[n],i);i-=r,e[n]-=r,e[t]+=r}return i},reflowLabels:function(e,t){var n,i,r,o,a=this,s=a.points,l=s[s.length-1],c=l.sector,d=t.length,u=l.options.labels,h=u.distance,p=c.c.y-(c.r+h)-t[0].box.height();for(e[0]+=2,o=0;d>o;o++)n=t[o],p+=e[o],r=n.box,i=a.hAlignLabel(r.x2,c.clone().expand(h),p,p+r.height(),n.orientation==Yr),n.orientation==Yr?(u.align!==Ai&&(i=c.r+c.c.x+h),n.reflow(Pn(i+r.width(),p,i,p))):(u.align!==Ai&&(i=c.c.x-c.r-h),n.reflow(Pn(i-r.width(),p,i,p))),p+=r.height()},getViewElements:function(e){var t,n,i,r,o,s,l,c,d,u,h,p,f,g,m,v=this,_=v.options,y=_.connectors,w=v.points,b=[],k=w.length,x=4;for(c=0;k>c;c++)o=w[c],n=o.sector,i=n.middle(),l=o.label,s={seriesId:o.seriesIx},l&&(r=[],l.options.position===Nr&&0!==o.value&&(d=l.box,u=n.c,h=n.point(i),p=Vn(d.x1,d.center().y),h=n.clone().expand(y.padding).point(i),r.push(h),l.orientation==Yr?(g=Vn(d.x1-y.padding,d.center().y),m=a(u,h,p,g),p=Vn(g.x-x,g.y),m=m||p,m.x=gn.min(m.x,p.x),v.pointInCircle(m,n.c,n.r+x)||n.c.x>m.x?(f=n.c.x+n.r+x,r.push(o.options.labels.align!==Mi?p.x>f?Vn(f,h.y):Vn(h.x+2*x,h.y):Vn(f,h.y)),r.push(Vn(p.x,g.y))):(m.y=g.y,r.push(m))):(g=Vn(d.x2+y.padding,d.center().y),m=a(u,h,p,g),p=Vn(g.x+x,g.y),m=m||p,m.x=gn.max(m.x,p.x),v.pointInCircle(m,n.c,n.r+x)||m.x>n.c.x?(f=n.c.x-n.r-x,r.push(o.options.labels.align!==Mi?f>p.x?Vn(f,h.y):Vn(h.x-2*x,h.y):Vn(f,h.y)),r.push(Vn(p.x,g.y))):(m.y=g.y,r.push(m))),r.push(g),t=e.createPolyline(r,!1,{id:si(),stroke:y.color,strokeWidth:y.width,animation:{type:nr,delay:o.animationDelay},data:{modelId:o.modelId}}),b.push(t)));return Yn(b,Fn.fn.getViewElements.call(v,e)),b},labelComparator:function(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e}},hAlignLabel:function(e,t,n,i,r){var o=t.c.x,a=t.c.y,s=t.r,l=gn.min(gn.abs(a-n),gn.abs(a-i));return l>s?e:o+gn.sqrt(s*s-l*l)*(r?1:-1)},pointInCircle:function(e,t,n){return p(t.x-e.x)+p(t.y-e.y)<p(n)},formatPointValue:function(e,t){return Qn(t,e.value)},animationDelay:function(e){return e*Wr}}),xn(Ht.fn,Lt),Ot=Rt.extend({options:{overlay:{gradient:Kr},labels:{position:Ti},animation:{type:Ur}},reflowLabel:function(){var e,t,n=this,i=n.sector.clone(),r=n.options,o=n.label,a=r.labels,s=i.middle();o&&(t=o.box.height(),a.position==Ti?(i.r-=(i.r-i.ir)/2,e=i.point(s),o.reflow(new Pn(e.x,e.y-t/2,e.x,e.y))):Rt.fn.reflowLabel.call(n))},createSegment:function(e,t,n){return e.createRing(t,n)}}),xn(Ot.fn,tt),Nt=Ht.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,n){var i,r,o=this;o.createLegendItem(e,n),e&&n.visible!==!1&&(r=xn({},n.series,{index:n.index}),o.evalSegmentOptions(r,e,n),i=new Ot(e,t,r),mn(i,n),o.append(i),o.points.push(i))},reflow:function(e){var t,n,i,r,o,a,s=this,l=s.options,c=e.clone(),d=5,u=gn.min(c.width(),c.height()),h=u/2,p=u-.85*u,f=li(l.padding,p),g=l.series,m=g.length,v=0,_=0,y=0,w=0;for(s.seriesConfigs=[],f=f>h-d?h-d:f,i=h-f,o=0;m>o;o++)t=g[o],0===o&&Kn(t.holeSize)&&(n=t.holeSize,i-=t.holeSize),Kn(t.size)?i-=t.size:v++,Kn(t.margin)&&o!=m-1&&(i-=t.margin);for(Kn(n)||(w=(h-f)/(m+.75),n=.75*w,i-=n),y=n,o=0;m>o;o++)t=g[o],r=li(t.size,i/v),y+=_,a=y+r,s.seriesConfigs.push({ir:y,r:a}),_=t.margin||0,y=a;Ht.fn.reflow.call(s,e)},animationDelay:function(e,t,n){return e*Gi+dr*(t+1)/(n+1)}}),Vt=at.extend({render:function(){at.fn.render.call(this),this.createSegments()},traverseDataPoints:function(e){var t,n,i,r,o,a,s,l,c,d,u=this.options.series,p=this.categoryAxis.options.categories||[],f=h(u),g=!this.options.invertAxes;for(t=0;u.length>t;t++)for(n=u[t],i=0,r=0,o=0;f>o;o++)a=G.current.bindPoint(n,o),s=a.valueFields.value,l=a.fields.summary,c=i,l?"total"===l.toLowerCase()?(a.valueFields.value=i,c=0,d=i):(a.valueFields.value=r,d=c-r,r=0):P(s)&&(r+=s,i+=s,d=i),e(a,{category:p[o],categoryIx:o,series:n,seriesIx:t,total:i,runningTotal:r,from:c,to:d,isVertical:g})},updateRange:function(e,t){at.fn.updateRange.call(this,{value:t.to},t)},aboveAxis:function(e){return e.value>=0},plotRange:function(e){return[e.from,e.to]},createSegments:function(){var e,t,n,i,r,o,a,s=this.options.series,l=this.seriesPoints,c=this.segments=[];for(e=0;s.length>e;e++)if(t=s[e],n=l[e])for(r=0;n.length>r;r++)o=n[r],o&&i&&(a=new Ut(i,o,t),c.push(a),this.append(a)),i=o}}),Ut=Fn.extend({init:function(e,t,n){var i=this;Fn.fn.init.call(i),i.from=e,i.to=t,i.series=n,i.id=si()},options:{animation:{type:nr,delay:dr}},linePoints:function(){var e,t,n=[],i=this.from,r=i.box,o=this.to.box;return i.isVertical?(e=i.aboveAxis?r.y1:r.y2,n.push(Vn(r.x1,e),Vn(o.x2,e))):(t=i.aboveAxis?r.x2:r.x1,n.push(Vn(t,r.y1),Vn(t,o.y2))),n},getViewElements:function(e){var t,n=this,i=n.options,r=n.series;return Fn.fn.getViewElements.call(n,e),t=r.line||{},[e.createPolyline(n.linePoints(),!1,{id:n.id,animation:i.animation,stroke:t.color,strokeWidth:t.width,strokeOpacity:t.opacity,fill:"",dashType:t.dashType})]}}),Wt=Mn.extend({init:function(e){var t=this;Mn.fn.init.call(t,e),e=t.options,t.id=si(),t.createTitle(),t.content=new Fn,t.chartContainer=new jt({},t),t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:fr},visible:!0},createTitle:function(){var e=this,t=e.options.title;typeof t===Hr&&(t=xn({},t,{align:t.position,position:bo})),e.title=Gn.buildTitle(t,e,Wt.fn.options.title)},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.chartContainer.parent!==t.content&&t.content.append(t.chartContainer),t.charts.push(e),t.chartContainer.append(e),e.pane=t},empty:function(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.length>e;e++)n.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)n.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[],t.chartContainer.children=[]},reflow:function(e){var t=this;ni(t.children)===t.content&&t.children.pop(),Mn.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,n=Mn.fn.getViewElements.call(t,e),i=e.createGroup({id:t.id}),r=[];return i.children=n.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(r=[i]),r},renderGridLines:function(e){var t,n,i,r,o,a,s=this,l=s.axes,c=l.concat(s.parent.axes),d=[],u=[];for(n=0;l.length>n;n++)for(r=l[n],o=r.options.vertical,t=o?d:u,i=0;c.length>i;i++)0===t.length&&(a=c[i],o!==a.options.vertical&&Yn(t,r.renderGridLines(e,a,r)));return d.concat(u)},refresh:function(){var e=this,t=e.view;t&&t.replace(e)},clipBox:function(){return this.chartContainer.clipBox}}),jt=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,e),n.pane=t},shouldClip:function(){var e,t=this,n=t.children,i=n.length;for(e=0;i>e;e++)if(n[e].options.clip===!0)return!0;return!1},_clipBox:function(){var e,t,n,i,r=this,o=r.pane,a=o.axes,s=a.length,l=o.box.clone();for(t=0;s>t;t++)i=a[t],e=i.options.vertical?Bo:zo,n=i.lineBox(),l[e+1]=n[e+1],l[e+2]=n[e+2];return l},getViewElements:function(e){var t,n,i,r=this,o=r.shouldClip(),a=[];return o&&(r.clipBox=r._clipBox(),r.clipPathId=r.clipPathId||si(),t=r.clipPathId,e.createClipPath(r.clipPathId,r.clipBox),a=r.labelViewElements(e)),r.id=si(),n=e.createGroup({id:r.id,clipPathId:t}),n.children=n.children.concat(Fn.fn.getViewElements.call(r,e)),i=[n].concat(a)},labelViewElements:function(e){var t,n,i,r,o,a=this,s=a.children,l=[],c=a.clipBox;for(i=0;s.length>i;i++)for(t=s[i].points||{},o=t.length,r=0;o>r;r++)n=t[r],n&&n.label&&n.label.options.visible&&(n.box.overlaps(c)&&(n.label.alignToClipBox&&n.label.alignToClipBox(c),n.label.modelId=n.modelId,Yn(l,n.label.getViewElements(e))),n.label.options.visible=!1);return l},destroy:function(){Fn.fn.destroy.call(this),delete this.parent}}),qt=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.series=e,n.initSeries(),n.charts=[],n.options.legend.items=[],n.axes=[],n.crosshairs=[],n.id=si(),n.enableDiscovery(),n.createPanes(),n.render(),n.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:_i,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}},initSeries:function(){var e,t,n=this.series;for(e=0;n.length>e;e++)t=n[e],t.index=e},createPanes:function(){var e,t,n=this,i=[],r=n.options.panes||[],o=gn.max(r.length,1);for(e=0;o>e;e++)t=new Wt(r[e]),t.paneIndex=e,i.push(t),n.append(t);n.panes=i},destroy:function(){var e,t=this,n=t.charts,i=t.axes,r=t.crosshairs;for(e=0;n.length>e;e++)n[e].destroy();for(e=0;i.length>e;e++)i[e].destroy();for(e=0;r.length>e;e++)r[e].destroy();Fn.fn.destroy.call(t)},createCrosshairs:function(e){var t,n,i,r,o,a=this;for(e=e||a.panes,t=0;e.length>t;t++)for(i=e[t],n=0;i.axes.length>n;n++)r=i.axes[n],r.options.crosshair&&r.options.crosshair.visible&&(o=new sn(r,r.options.crosshair),a.crosshairs.push(o),i.content.append(o))},removeCrosshairs:function(e){var t,n,i=this,r=i.crosshairs,o=e.axes;for(t=r.length-1;t>=0;t--)for(n=0;o.length>n;n++)if(r[t].axis===o[n]){r.splice(t,1);break}},findPane:function(e){var t,n,i=this,r=i.panes;for(t=0;r.length>t;t++)if(r[t].options.name===e){n=r[t];break}return n||r[0]},findPointPane:function(e){var t,n,i=this,r=i.panes;for(t=0;r.length>t;t++)if(r[t].box.containsPoint(e)){n=r[t];break}return n},appendAxis:function(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,n,i=this,r=[];for(t=0;i.axes.length>t;t++)n=i.axes[t],e!==n?r.push(n):n.destroy();i.axes=r},appendChart:function(e,t){var n=this;n.charts.push(e),t?t.appendChart(e):n.append(e)},removeChart:function(e){var t,n,i=this,r=[];for(t=0;i.charts.length>t;t++)n=i.charts[t],n!==e?r.push(n):n.destroy();i.charts=r},addToLegend:function(e){var t,n,i,r,o,a,s,l,c,d=e.length,u=[],h=this.options.legend,p=h.labels||{},f=h.inactiveItems||{},g=f.labels||{};for(t=0;d>t;t++)n=e[t],l=n.visible!==!1,n.visibleInLegend!==!1&&(i=n.name||"",c=l?p.template:g.template||p.template,c&&(i=Tn(c)({text:i,series:n})),r=n.color,s=n._defaults,Sn(r)&&s&&(r=s.color),l?(o={},a=r):(o={color:g.color,font:g.font},a=f.markers.color),i&&u.push({text:i,labels:o,markerColor:a,series:n,active:l}));Yn(h.items,u)},groupAxes:function(e){var t,n,i,r,o=[],a=[];for(i=0;e.length>i;i++)for(t=e[i].axes,r=0;t.length>r;r++)n=t[r],n.options.vertical?a.push(n):o.push(n);return{x:o,y:a,any:o.concat(a)}},groupSeriesByPane:function(){var e,t,n,i=this,r=i.series,o={};for(e=0;r.length>e;e++)n=r[e],t=i.seriesPaneName(n),o[t]?o[t].push(n):o[t]=[n];return o},filterVisibleSeries:function(e){var t,n,i=[];for(t=0;e.length>t;t++)n=e[t],n.visible!==!1&&i.push(n);return i},reflow:function(e){var t=this,n=t.options.plotArea,i=t.panes,r=Jn(n.margin);t.box=e.clone().unpad(r),t.reflowPanes(),t.reflowAxes(i),t.reflowCharts(i)
},redraw:function(e){var t,n=this;for(e=[].concat(e),this.initSeries(),t=0;e.length>t;t++)n.removeCrosshairs(e[t]),e[t].empty();for(n.render(e),n.reflowAxes(n.panes),n.reflowCharts(e),n.createCrosshairs(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var n,i=e.options,r=[].concat(i.axisCrossingValues||i.axisCrossingValue),o=t.length-r.length,a=r[0]||0;for(n=0;o>n;n++)r.push(a);return r},alignAxisTo:function(e,t,n,i){var r=e.getSlot(n,n,!0),o=e.options.reverse?2:1,a=t.getSlot(i,i,!0),s=t.options.reverse?2:1,l=e.box.translate(a[zo+s]-r[zo+o],a[Bo+s]-r[Bo+o]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var n,i,r,o,a=this,s=e[0],l=t[0],c=a.axisCrossingValues(s,t),d=a.axisCrossingValues(l,e),u={},h={},p={},f={};for(o=0;t.length>o;o++)r=t[o],n=r.pane,i=n.id,a.alignAxisTo(r,s,d[o],c[o]),r.options._overlap||(oi(r.lineBox().x1)===oi(s.lineBox().x1)&&(u[i]&&r.reflow(r.box.alignTo(u[i].box,fr).translate(-r.options.margin,0)),u[i]=r),oi(r.lineBox().x2)===oi(s.lineBox().x2)&&(r._mirrored||(r.options.labels.mirror=!r.options.labels.mirror,r._mirrored=!0),a.alignAxisTo(r,s,d[o],c[o]),h[i]&&r.reflow(r.box.alignTo(h[i].box,Yr).translate(r.options.margin,0)),h[i]=r),0!==o&&l.pane===r.pane&&r.alignTo(l));for(o=0;e.length>o;o++)r=e[o],n=r.pane,i=n.id,a.alignAxisTo(r,l,c[o],d[o]),r.options._overlap||(oi(r.lineBox().y1)===oi(l.lineBox().y1)&&(r._mirrored||(r.options.labels.mirror=!r.options.labels.mirror,r._mirrored=!0),a.alignAxisTo(r,l,c[o],d[o]),p[i]&&r.reflow(r.box.alignTo(p[i].box,bo).translate(0,-r.options.margin)),p[i]=r),oi(r.lineBox().y2,Fi)===oi(l.lineBox().y2,Fi)&&(f[i]&&r.reflow(r.box.alignTo(f[i].box,wi).translate(0,r.options.margin)),f[i]=r),0!==o&&r.alignTo(s))},shrinkAxisWidth:function(e){var t,n,i,r=this,o=r.groupAxes(e).any,a=T(o),s=0;for(t=0;e.length>t;t++)n=e[t],n.axes.length>0&&(s=gn.max(s,a.width()-n.contentBox.width()));for(t=0;o.length>t;t++)i=o[t],i.options.vertical||i.reflow(i.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,n,i,r,o,a;for(t=0;e.length>t;t++)for(n=e[t],i=n.axes,r=gn.max(0,T(i).height()-n.contentBox.height()),o=0;i.length>o;o++)a=i[o],a.options.vertical&&a.reflow(a.box.shrink(0,r))},fitAxes:function(e){var t,n,i,r,o,a,s,l,c=this,d=c.groupAxes(e).any,u=0;for(s=0;e.length>s;s++)if(o=e[s],t=o.axes,n=o.contentBox,t.length>0)for(i=T(t),u=gn.max(u,n.x1-i.x1),r=gn.max(n.y1-i.y1,n.y2-i.y2),l=0;t.length>l;l++)a=t[l],a.reflow(a.box.translate(0,r));for(s=0;d.length>s;s++)a=d[s],a.reflow(a.box.translate(u,0))},reflowAxes:function(e){var t,n=this,i=n.groupAxes(e);for(t=0;e.length>t;t++)n.reflowPaneAxes(e[t]);i.x.length>0&&i.y.length>0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e),n.alignAxes(i.x,i.y),n.fitAxes(e))},reflowPaneAxes:function(e){var t,n=e.axes,i=n.length;if(i>0)for(t=0;i>t;t++)n[t].reflow(e.contentBox)},reflowCharts:function(e){var t,n,i=this,r=i.charts,o=r.length,a=i.box;for(n=0;o>n;n++)t=r[n].pane,(!t||ei(t,e))&&r[n].reflow(a)},reflowPanes:function(){var e,t,n,i,r,o=this,a=o.box,s=o.panes,l=s.length,c=a.height(),d=l,u=0,h=a.y1;for(e=0;l>e;e++)t=s[e],i=t.options.height,t.options.width=a.width(),t.options.height?(i.indexOf&&i.indexOf("%")&&(r=parseInt(i,10)/100,t.options.height=r*a.height()),t.reflow(a.clone()),c-=t.options.height):u++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/u);for(e=0;l>e;e++)t=s[e],n=a.clone().move(a.x1,h),t.reflow(n),d--,h+=t.options.height},backgroundBox:function(){var e,t,n,i,r,o,a=this,s=a.axes,l=s.length;for(n=0;l>n;n++)for(r=s[n],i=0;l>i;i++)o=s[i],r.options.vertical!==o.options.vertical&&(e=r.lineBox().clone().wrap(o.lineBox()),t=t?t.wrap(e):e);return t||a.box},getViewElements:function(e){var t=this,n=t.backgroundBox(),i=t.options,r=i.plotArea,o=r.border||{},a=Fn.fn.getViewElements.call(t,e);return Yn(a,[e.createRect(n,{fill:r.background,fillOpacity:r.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(n,{id:t.id,data:{modelId:t.modelId},stroke:o.width?o.color:"",strokeWidth:o.width,fill:Fo,fillOpacity:0,zIndex:-1,dashType:o.dashType})]),a},pointsByCategoryIndex:function(e){var t,n,i,r,o,a=this.charts,s=[];if(null!==e)for(t=0;a.length>t;t++)if(o=a[t],"_navigator"!==o.pane.options.name&&(i=a[t].categoryPoints[e],i&&i.length))for(n=0;i.length>n;n++)r=i[n],r&&Kn(r.value)&&null!==r.value&&s.push(r);return s},pointsBySeriesIndex:function(e){var t,n,i,r,o,a=this.charts,s=[];for(i=0;a.length>i;i++)for(o=a[i],t=o.points,r=0;t.length>r;r++)n=t[r],n&&n.options.index===e&&s.push(n);return s},paneByPoint:function(e){var t,n,i=this,r=i.panes;for(n=0;r.length>n;n++)if(t=r[n],t.box.containsPoint(e))return t}}),Gt=qt.extend({init:function(e,t){var n,i,r=this;if(r.namedCategoryAxes={},r.namedValueAxes={},r.valueAxisRangeTracker=new $t,e.length>0)for(r.invertAxes=ei(e[0].type,[gi,xi,Io,Ao,Gr,lr]),n=0;e.length>n;n++)if(i=e[n].stack,i&&"100%"===i.type){r.stack100=!0;break}qt.fn.init.call(r,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateCategories(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,n=e.options.name;qt.fn.removeAxis.call(t,e),e instanceof K?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,n,i,r,o=this,a=o.groupSeriesByPane();for(t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"]||[],o.addToLegend(i),r=o.filterVisibleSeries(i),r&&(o.createAreaChart(L(r,[ui,Ao]),n),o.createBarChart(L(r,[Mi,gi]),n),o.createRangeBarChart(L(r,[$r,Gr]),n),o.createBulletChart(L(r,[xi,Eo]),n),o.createLineChart(L(r,[vr,Io]),n),o.createCandlestickChart(L(r,Ci),n),o.createBoxPlotChart(L(r,bi),n),o.createOHLCChart(L(r,Or),n),o.createWaterfallChart(L(r,[Po,lr]),n))},aggregateCategories:function(e){var t,n,i,r,o,a=this,s=a.srcSeries||a.series,l=[];for(t=0;s.length>t;t++)n=s[t],i=a.seriesCategoryAxis(n),r=a.findPane(i.options.pane),o=D(i.options.type,Hi),(o||n.categoryField)&&ei(r,e)&&(n=a.aggregateSeries(n,i)),l.push(n);a.srcSeries=s,a.series=l},aggregateSeries:function(e,t){var i,r,o,a,s,l=t.options,c=D(t.options.type,Hi),d=l.categories,u=l.srcCategories||d,h=e.data,p=[],m=t.range(),v=xn({},e),_=xn({},e),y=f;for(v.data=a=[],c&&(y=g),i=0;h.length>i;i++)r=e.categoryField?y(e.categoryField,h[i]):u[i],o=t.categoryIndex(r,m),o>-1&&(p[o]=p[o]||[],p[o].push(i));for(s=new un(_,G.current,n.current),i=0;d.length>i;i++)a[i]=s.aggregatePoints(p[i],d[i]);return v},appendChart:function(e,t){for(var n=this,i=e.options.series,r=n.seriesCategoryAxis(i[0]),o=r.options.categories,a=gn.max(0,h(i)-o.length);a--;)o.push("");n.valueAxisRangeTracker.update(e.valueAxisRanges),qt.fn.appendChart.call(n,e,t)},seriesPaneName:function(t){var n=this,i=n.options,r=t.axis,o=[].concat(i.valueAxis),a=e.grep(o,function(e){return e.name===r})[0],s=i.panes||[{}],l=(s[0]||{}).name||"default",c=(a||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,n=e.categoryAxis,i=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!i)throw Error("Unable to locate category axis with name "+n);return i},stackableChartOptions:function(e,t){var n,i=e.stack,r=i&&"100%"===i.type;return Kn(t.options.clip)?n=t.options.clip:r&&(n=!1),{isStacked:i,isStacked100:r,clip:n}},createBarChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new at(n,mn({series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing},n.stackableChartOptions(i,t)));n.appendChart(r,t)}},createRangeBarChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new lt(n,{series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing});n.appendChart(r,t)}},createBulletChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new ct(n,{series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing,clip:t.options.clip});n.appendChart(r,t)}},createLineChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new yt(n,mn({invertAxes:n.invertAxes,series:e},n.stackableChartOptions(i,t)));n.appendChart(r,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new Ct(n,mn({invertAxes:n.invertAxes,series:e},n.stackableChartOptions(i,t)));n.appendChart(r,t)}},createOHLCChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new Ft(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});n.appendChart(r,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new Pt(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});n.appendChart(r,t)}},createBoxPlotChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new zt(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});n.appendChart(r,t)}},createWaterfallChart:function(e,t){if(0!==e.length){var n=this,i=e[0],r=new Vt(n,{series:e,invertAxes:n.invertAxes,gap:i.gap,spacing:i.spacing});n.appendChart(r,t)}},axisRequiresRounding:function(e,t){var n,i,r=this,o=L(r.series,Wo);for(n=0;o.length>n;n++)if(i=o[n].categoryAxis||"",i===e||!i&&0===t)return!0},createCategoryAxes:function(e){var t,n,i,r,o,a,s,l,c=this,d=c.invertAxes,u=[].concat(c.options.categoryAxis),h=[];for(t=0;u.length>t;t++)if(n=u[t],i=c.findPane(n.pane),ei(i,e)){if(a=n.name,r=n.categories||[],o=n.type||"",n=xn({vertical:d,axisCrossingValue:d?kr:0},n),Kn(n.justified)||(n.justified=c.isJustified()),c.axisRequiresRounding(a,t)&&(n.justified=!1,n.roundToBaseUnit=!0),s=V(n,r[0])?new X(n):new K(n),a){if(c.namedCategoryAxes[a])throw Error("Category axis with name "+a+" is already defined");c.namedCategoryAxes[a]=s}s.axisIndex=t,h.push(s),c.appendAxis(s)}l=c.categoryAxis||h[0],c.categoryAxis=l,d?c.axisY=l:c.axisX=l},isJustified:function(){var e,t,n=this,i=n.series;for(e=0;i.length>e;e++)if(t=i[e],!ei(t.type,[ui,Ao]))return!1;return!0},createValueAxes:function(e){var t,n,i,r,o,a,s,l,c,d=this,u=d.valueAxisRangeTracker,h=u.query(),p=[].concat(d.options.valueAxis),f=d.invertAxes,g={vertical:!f},m=[];for(d.stack100&&(g.roundToMajorUnit=!1,g.labels={format:"P0"}),c=0;p.length>c;c++)if(t=p[c],n=d.findPane(t.pane),ei(n,e)){if(l=t.name,s=D(t.type,yr)?{min:.1,max:1}:{min:0,max:1},o=u.query(l)||h||s,0===c&&o&&h&&(o.min=gn.min(o.min,h.min),o.max=gn.max(o.max,h.max)),a=D(t.type,yr)?On:Nn,i=new a(o.min,o.max,xn({},g,t)),l){if(d.namedValueAxes[l])throw Error("Value axis with name "+l+" is already defined");d.namedValueAxes[l]=i}i.axisIndex=c,m.push(i),d.appendAxis(i)}r=d.valueAxis||m[0],d.valueAxis=r,f?d.axisX=r:d.axisY=r},click:function(t,n){var i,r,o,a=this,s=t._eventCoordinates(n),l=new Vn(s.x,s.y),c=a.pointPane(l),d=[],u=[];if(c){for(i=c.axes,r=0;i.length>r;r++)o=i[r],o.getValue?E(u,o.getValue(l)):E(d,o.getCategory(l));0===d.length&&E(d,a.categoryAxis.getCategory(l)),d.length>0&&u.length>0&&t.trigger(jr,{element:e(n.target),originalEvent:n,category:S(d),value:S(u)})}},pointPane:function(e){var t,n,i=this,r=i.panes;for(n=0;r.length>n;n++)if(t=r[n],t.contentBox.containsPoint(e))return t}}),$t=yn.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,n,i,r=this,o=r.axisRanges;for(i in e)t=o[i],n=e[i],o[i]=t=t||{min:kr,max:Cr},t.min=gn.min(t.min,n.min),t.max=gn.max(t.max,n.max)},reset:function(e){this.axisRanges[e]=t},query:function(e){return this.axisRanges[e]}}),Yt=qt.extend({init:function(e,t){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new $t,n.yAxisRangeTracker=new $t,qt.fn.init.call(n,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,n,i,r,o=this,a=o.groupSeriesByPane();for(e=e||o.panes,t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"]||[],o.addToLegend(i),r=o.filterVisibleSeries(i),r&&(o.createScatterChart(L(r,Xr),n),o.createScatterLineChart(L(r,Zr),n),o.createBubbleChart(L(r,ki),n));o.createAxes(e)},appendChart:function(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),qt.fn.appendChart.call(n,e,t)},removeAxis:function(e){var t=this,n=e.options.name;qt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var n=this,i=n.options,r=t.xAxis,o=[].concat(i.xAxis),a=e.grep(o,function(e){return e.name===r})[0],s=t.yAxis,l=[].concat(i.yAxis),c=e.grep(l,function(e){return e.name===s})[0],d=i.panes||[{}],u=d[0].name||"default",h=(a||{}).pane||(c||{}).pane||u;return h},createScatterChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Dt(n,{series:e,clip:t.options.clip}),t)},createScatterLineChart:function(e,t){var n=this;e.length>0&&n.appendChart(new At(n,{series:e,clip:t.options.clip}),t)},createBubbleChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Et(n,{series:e,clip:t.options.clip}),t)},createXYAxis:function(e,t,n){var i,r,o,a,s,l,c,d,u=this,h=e.name,p=t?u.namedYAxes:u.namedXAxes,f=t?u.yAxisRangeTracker:u.xAxisRangeTracker,g=xn({},e,{vertical:t}),m=D(g.type,yr),v=f.query(),_=m?{min:.1,max:1}:{min:0,max:1},y=f.query(h)||v||_,w=u.series,b=[g.min,g.max];for(o=0;w.length>o;o++)if(a=w[o],s=a[t?"yAxis":"xAxis"],s==g.name||0===n&&!s){l=G.current.bindPoint(a,0).valueFields,b.push(l[t?"y":"x"]);break}for(0===n&&v&&(y.min=gn.min(y.min,v.min),y.max=gn.max(y.max,v.max)),d=0;b.length>d;d++)if(b[d]instanceof Date){c=!0;break}if(r=D(g.type,Hi)||!g.type&&c?Z:m?On:Nn,i=new r(y.min,y.max,g),h){if(p[h])throw Error((t?"Y":"X")+" axis with name "+h+" is already defined");p[h]=i}return u.appendAxis(i),i},createAxes:function(e){var t,n=this,i=n.options,r=[].concat(i.xAxis),o=[],a=[].concat(i.yAxis),s=[];hn(r,function(i){t=n.findPane(this.pane),ei(t,e)&&o.push(n.createXYAxis(this,!1,i))}),hn(a,function(i){t=n.findPane(this.pane),ei(t,e)&&s.push(n.createXYAxis(this,!0,i))}),n.axisX=n.axisX||o[0],n.axisY=n.axisY||s[0]},click:function(t,n){var i,r,o,a,s=this,l=t._eventCoordinates(n),c=new Vn(l.x,l.y),d=s.axes,u=d.length,h=[],p=[];for(i=0;u>i;i++)r=d[i],a=r.options.vertical?p:h,o=r.getValue(c),null!==o&&a.push(o);h.length>0&&p.length>0&&t.trigger(jr,{element:e(n.target),originalEvent:n,x:S(h),y:S(p)})}}),Qt=qt.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,n=e[0],i=new Ht(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)},appendChart:function(e,t){qt.fn.appendChart.call(this,e,t),Yn(this.options.legend.items,e.legendItems)}}),Kt=Qt.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,n=e[0],i=new Nt(t,{series:e,padding:n.padding,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),Xt=Rn.extend({options:{easing:"easeOutElastic",duration:dr},setup:function(){var e,t=this.element,n=t.config;t.options.singleSegment&&(n=t),this.endRadius=n.r,e=this.startRadius=n.ir||0,n.r=e},step:function(e){var t=this,n=t.element,i=t.endRadius,r=n.config,o=t.startRadius;n.options.singleSegment&&(r=n),r.r=ti(o,i,e)}}),Zt=Rn.extend({options:{easing:"easeOutElastic",duration:dr},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,n=t.endRadius;t.radius=ti(0,n,e)}}),Jt=$n(gi,In),en=$n(Ur,Xt),tn=$n(ki,Zt),nn=yn.extend({init:function(e,t){var n=this;n.view=e,n.viewElement=t,n._overlays=[]},options:{fill:Fo,fillOpacity:.2,stroke:Fo,strokeWidth:1,strokeOpacity:.2},destroy:function(){this.viewElement=null,this.view=null,this._overlays=null},show:function(e){var t,n,i,r,o,a,s=this,l=s.view,c=s._overlays;for(s.hide(),s._points=e=[].concat(e),r=0;e.length>r;r++)o=e[r],o&&(a=o.options,(!a||(a.highlight||{}).visible)&&(o.highlightOverlay&&o.visible!==!1&&(n=o.highlightOverlay(l,s.options),n&&(i=l.renderElement(n),c.push(i),o.owner&&o.owner.id&&(t=Zn(o.owner.id)),(t||s.viewElement).appendChild(i))),o.toggleHighlight&&o.toggleHighlight(l)))},hide:function(){for(var e,t,n,i,r=this,o=r._points,a=r._overlays;a.length;)e=r._overlays.pop(),e.parentNode&&e.parentNode.removeChild(e);if(o)for(t=0;o.length>t;t++)n=o[t],n&&(i=n.options,(!i||(i.highlight||{}).visible)&&n.toggleHighlight&&n.toggleHighlight(r.view));r._points=[]},isOverlay:function(t){var n,i,r=this._overlays;for(n=0;r.length>n;n++)if(i=r[n],t==i||e.contains(i,t))return!0;return!1}}),rn=yn.extend({init:function(t,n){var i=this;i.options=xn({},i.options,n),i.chartElement=t,i.template=rn.template,i.template||(i.template=rn.template=ai("<div class='"+Bi+"tooltip "+Bi+"chart-tooltip' style='display:none; position: absolute; font: #= d.font #;border: #= d.border.width #px solid;opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'></div>")),i.element=e(i.template(i.options)),i.move=vn(i.move,i),i._mouseleave=vn(i._mouseleave,i)},destroy:function(){this._clearShowTimeout(),this.element&&(this.element.off(Dr).remove(),this.element=null)},options:{border:{width:1},opacity:1,animation:{duration:ko}},move:function(){var e,t=this,n=t.options,i=t.element;t.anchor&&(e=t._offset(),t.visible||i.css({top:e.top,left:e.left}),t._ensureElement(document.body),i.stop(!0,!0).show().animate({left:e.left,top:e.top},n.animation.duration),t.visible=!0)},_clearShowTimeout:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)},_padding:function(){if(!this._chartPadding){var e=this.chartElement;this._chartPadding={top:parseInt(e.css("paddingTop"),10),left:parseInt(e.css("paddingLeft"),10)}}return this._chartPadding},_offset:function(){var t=this,n=t._measure(),i=t.anchor,r=t._padding(),o=t.chartElement.offset(),a=oi(i.y+r.top+o.top),s=oi(i.x+r.left+o.left),l=_n.support.zoomLevel(),c=e(window),d=window.pageYOffset||document.documentElement.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||0;return a+=t._fit(a-d,n.height,c.outerHeight()/l),s+=t._fit(s-u,n.width,c.outerWidth()/l),{top:a,left:s}},setStyle:function(e,t){var n,i,r=e.background,o=e.border.color;t&&(n=t.color||t.options.color,r=li(r,n),o=li(o,n)),Kn(e.color)||(i=new zn(r).percBrightness(),this.element.toggleClass(Bi+To,i>180)),this.element.css({backgroundColor:r,borderColor:o,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},show:function(){this._clearShowTimeout(),this.showTimeout=setTimeout(this.move,Co)},hide:function(){var e=this;clearTimeout(e.showTimeout),e._hideElement(),e.visible&&(e.point=null,e.visible=!1,e.index=null)},_measure:function(){this._ensureElement();var e={width:this.element.outerWidth(),height:this.element.outerHeight()};return e},_ensureElement:function(){this.element&&this.element.appendTo(document.body).on(Dr,this._mouseleave)},_mouseleave:function(t){var n=t.relatedTarget,i=this.chartElement[0];n&&n!==i&&!e.contains(i,n)&&this.hide()},_hideElement:function(){this.element&&this.element.fadeOut({always:function(){e(this).off(Dr).remove()}})},_pointContent:function(e){var t,n,i=this,r=xn({},i.options,e.options.tooltip);return Kn(e.value)&&(t=""+e.value),r.template?(n=Tn(r.template),t=n({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage,runningTotal:e.runningTotal,total:e.total,low:e.low,high:e.high,xLow:e.xLow,xHigh:e.xHigh,yLow:e.yLow,yHigh:e.yHigh})):r.format&&(t=e.formatValue(r.format)),t},_pointAnchor:function(e){var t=this._measure();return e.tooltipAnchor(t.width,t.height)},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i}}),on=rn.extend({show:function(e){var t=this,n=xn({},t.options,e.options.tooltip);e&&e.tooltipAnchor&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t.anchor?(t.setStyle(n,e),rn.fn.show.call(t,e)):t.hide())}}),an=rn.extend({init:function(e,t,n){var i=this;rn.fn.init.call(i,e,n),i.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { # <td> #= point.series.name #:</td># } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(t,n){var i,r=this,o=r.options,a=r.plotArea,s=a.categoryAxis,l=s.pointCategoryIndex(n),c=s.getCategory(n),d=s.getSlot(l);t=e.grep(t,function(e){var t=e.series.tooltip,n=t&&t.visible===!1;return!n}),t.length>0&&(i=r._content(t,c),r.element.html(i),r.anchor=r._slotAnchor(n,d),r.setStyle(o,t[0]),rn.fn.show.call(r))},_slotAnchor:function(e,t){var n,i=this,r=i.plotArea,o=r.categoryAxis,a=this._measure(),s=e.y-a.height/2;return n=o.options.vertical?Vn(e.x,s):Vn(t.center().x,s)},_content:function(e,t){var n,i,r=this;return n=_n.template(r.options.sharedTemplate),i=n({points:e,category:t,categoryText:Qn(r.options.categoryFormat,t),content:r._pointContent})}}),sn=Fn.extend({init:function(e,t){var n=this;Fn.fn.init.call(n,t),n.axis=e,n.id||(n.id=si()),n._visible=!1,n.stickyMode=e instanceof K,n.enableDiscovery()},options:{color:_i,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var e=this,t=e.element;e.getViewElements(e._view),t=e.element,t.refresh(Zn(e.id))},showAt:function(e){var t=this;t._visible=!0,t.point=e,t.repaint(),t.options.tooltip.visible&&(t.tooltip||(t.tooltip=new ln(t,xn({},t.options.tooltip,{stickyMode:t.stickyMode}))),t.tooltip.showAt(e))},hide:function(){var e=this;e._visible&&(e._visible=!1,e.repaint(),e.tooltip&&e.tooltip.hide())},linePoints:function(){var e,t,n,i=this,r=i.axis,o=r.options.vertical,a=i.getBox(),s=i.point,l=o?Bo:zo;return t=Vn(a.x1,a.y1),n=o?Vn(a.x2,a.y1):Vn(a.x1,a.y2),s&&(i.stickyMode?(e=r.getSlot(r.pointCategoryIndex(s)),t[l]=n[l]=e.center()[l]):t[l]=n[l]=s[l]),i.box=a,[t,n]},getBox:function(){var e,t,n,i=this,r=i.axis,o=r.pane.axes,a=o.length,s=r.options.vertical,l=r.lineBox().clone(),c=s?zo:Bo;for(n=0;a>n;n++)t=o[n],t.options.vertical!=s&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());return l[c+1]=e[c+1],l[c+2]=e[c+2],l},getViewElements:function(e){var t=this,n=t.options,i=[];return t.points=t.linePoints(),t.element=e.createPolyline(t.points,!1,{data:{modelId:t.modelId},id:t.id,stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,dashType:n.dashType,zIndex:n.zIndex,visible:t._visible}),i.push(t.element),t._view=e,Yn(i,Fn.fn.getViewElements.call(t,e)),i},destroy:function(){var e=this;e.tooltip&&e.tooltip.destroy(),Fn.fn.destroy.call(e)}}),ln=rn.extend({init:function(e,t){var n=this,i=e.axis.getRoot().parent.element;n.crosshair=e,rn.fn.init.call(n,i,xn({},n.options,{background:e.axis.plotArea.options.seriesColors[0]},t)),n.setStyle(n.options)},options:{padding:10},showAt:function(e){var t=this;t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(),t.move()},move:function(){var e=this,t=e.element,n=e._offset();e._ensureElement(),t.css({top:n.top,left:n.left}).show()},content:function(e){var t,n,i,r=this,o=r.options,a=r.crosshair.axis,s=a.options;return n=t=a[o.stickyMode?"getCategory":"getValue"](e),o.template?(i=Tn(o.template),t=i({value:n})):o.format?t=Qn(o.format,n):s.type===Hi&&(t=Qn(s.labels.dateFormats[s.baseUnit],n)),t},getAnchor:function(){var e,t,n=this,i=n.options,r=i.position,o=n.crosshair.axis.options.vertical,a=n.crosshair.points,s=a[0],l=a[1],c=this._measure(),d=c.width/2,u=c.height/2,h=i.padding;return o?r===fr?(e=s.x-c.width-h,t=s.y-u):(e=l.x+h,t=l.y-u):r===wi?(e=l.x-d,t=l.y+h):(e=s.x-d,t=s.y-c.height-h),Vn(e,t)},hide:function(){this.element.hide(),this.point=null},destroy:function(){rn.fn.destroy.call(this),this.point=null}}),cn={min:function(e){var t,n,i=kr,r=e.length;for(t=0;r>t;t++)n=e[t],P(n)&&(i=gn.min(i,n));return i===kr?e[0]:i},max:function(e){var t,n,i=Cr,r=e.length;for(t=0;r>t;t++)n=e[t],P(n)&&(i=gn.max(i,n));return i===Cr?e[0]:i},sum:function(e){var t,n,i=e.length,r=0;for(t=0;i>t;t++)n=e[t],P(n)&&(r+=n);return r},sumOrNull:function(e){var t=null;return M(e)&&(t=cn.sum(e)),t},count:function(e){var t,n,i=e.length,r=0;for(t=0;i>t;t++)n=e[t],null!==n&&Kn(n)&&r++;return r},avg:function(e){var t=e[0],n=M(e);return n>0&&(t=cn.sum(e)/n),t},first:function(e){var t,n,i=e.length;for(t=0;i>t;t++)if(n=e[t],null!==n&&Kn(n))return n;return e[0]}},n.prototype={register:function(e,t){for(var n=0;e.length>n;n++)this._defaults[e[n]]=t},query:function(e){return this._defaults[e]}},n.current=new n,dn=wn.extend({init:function(t,n,i){var r,o,a=this,s=t.element,l=n.lineBox(),c=a.getValueAxis(n),d=c.lineBox(),u="."+Bi;wn.fn.init.call(a),a.options=xn({},a.options,i),i=a.options,a.chart=t,a.chartElement=s,a.categoryAxis=n,a._dateAxis=a.categoryAxis instanceof X,a.valueAxis=c,a._dateAxis&&xn(i,{min:m(i.min),max:m(i.max),from:m(i.from),to:m(i.to)}),a.template=dn.template,a.template||(a.template=dn.template=ai("<div class='"+Bi+"selector' style='width: #= d.width #px; height: #= d.height #px; top: #= d.offset.top #px; left: #= d.offset.left #px;'><div class='"+Bi+"mask'></div><div class='"+Bi+"mask'></div><div class='"+Bi+"selection'><div class='"+Bi+"selection-bg'></div><div class='"+Bi+"handle "+Bi+"leftHandle'><div></div></div><div class='"+Bi+"handle "+Bi+"rightHandle'><div></div></div></div></div>")),o={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},a.options=xn({},{width:l.width(),height:d.height(),padding:o,offset:{left:d.x2+o.left,top:d.y1+o.right},from:i.min,to:i.max},i),a.options.visible&&(a.wrapper=r=e(a.template(a.options)).appendTo(s),a.selection=r.find(u+"selection"),a.leftMask=r.find(u+"mask").first(),a.rightMask=r.find(u+"mask").last(),a.leftHandle=r.find(u+"leftHandle"),a.rightHandle=r.find(u+"rightHandle"),a.options.selection={border:{left:parseFloat(a.selection.css("border-left-width"),10),right:parseFloat(a.selection.css("border-right-width"),10)}},a.leftHandle.css("top",(a.selection.height()-a.leftHandle.height())/2),a.rightHandle.css("top",(a.selection.height()-a.rightHandle.height())/2),a.set(a._index(i.from),a._index(i.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(zr,vn(a._mousewheel,a)),_n.UserEvents?a.userEvents=new _n.UserEvents(a.wrapper,{global:!0,stopPropagation:!0,multiTouch:!0,start:vn(a._start,a),move:vn(a._move,a),end:vn(a._end,a),tap:vn(a._tap,a),gesturestart:vn(a._gesturechange,a),gesturechange:vn(a._gesturechange,a)}):a.leftHandle.add(a.rightHandle).removeClass(Bi+"handle"))},events:[eo,to,no],options:{visible:!0,mousewheel:{zoom:yi},min:Cr,max:kr},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_rangeEventArgs:function(e){var t=this;return{axis:t.categoryAxis.options,from:t._value(e.from),to:t._value(e.to)}},_start:function(t){var n,i=this,r=i.options,o=e(t.event.target);!i._state&&o&&(i.chart._unsetActivePoint(),i._state={moveTarget:o.parents(".k-handle").add(o).first(),startLocation:t.x?t.x.location:0,range:{from:i._index(r.from),to:i._index(r.to)}},n=i._rangeEventArgs({from:i._index(r.from),to:i._index(r.to)}),i.trigger(eo,n)&&(i.userEvents.cancel(),i._state=null))},_move:function(e){if(this._state){var t=this,n=t._state,i=t.options,r=t.categoryAxis.options.categories,o=t._index(i.from),a=t._index(i.to),s=t._index(i.min),l=t._index(i.max),c=n.startLocation-e.x.location,d=n.range,u={from:d.from,to:d.to},h=d.to-d.from,p=n.moveTarget,f=t.wrapper.width()/(r.length-1),g=gn.round(c/f);p&&(e.preventDefault(),p.is(".k-selection, .k-selection-bg")?(d.from=gn.min(gn.max(s,o-g),l-h),d.to=gn.min(d.from+h,l)):p.is(".k-leftHandle")?(d.from=gn.min(gn.max(s,o-g),l-1),d.to=gn.max(d.from+1,d.to)):p.is(".k-rightHandle")&&(d.to=gn.min(gn.max(s+1,a-g),l),d.from=gn.min(d.to-1,d.from)),(d.from!==u.from||d.to!==u.to)&&(t.move(d.from,d.to),t.trigger(to,t._rangeEventArgs(d))))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(no,e._rangeEventArgs(t))},_gesturechange:function(e){if(this._state){var t=this,n=t.chart,i=t._state,r=t.options,o=t.categoryAxis,a=i.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=gn.min(s,l),d=gn.max(s,l);e.preventDefault(),i.moveTarget=null,a.from=o.pointCategoryIndex(new Dn.Point2D(c))||r.min,a.to=o.pointCategoryIndex(new Dn.Point2D(d))||r.max,t.move(a.from,a.to)}},_tap:function(e){var t=this,n=t.options,i=t.chart._eventCoordinates(e),r=t.categoryAxis,o=r.pointCategoryIndex(new Dn.Point2D(i.x,r.box.y1)),a=t._index(n.from),s=t._index(n.to),l=t._index(n.min),c=t._index(n.max),d=s-a,u=a+d/2,h=gn.round(u-o),p={},f=3===e.event.which;t._state||f||(e.preventDefault(),t.chart._unsetActivePoint(),r.options.justified||h--,p.from=gn.min(gn.max(l,a-h),c-d),p.to=gn.min(p.from+d,c),t._start(e),t._state&&(t._state.range=p,t.trigger(to,t._rangeEventArgs(p)),t._end()))},_mousewheel:function(e){var t,n=this,i=n.options,r=ri(e);n._start({event:{target:n.selection}}),n._state&&(t=n._state.range,e.preventDefault(),e.stopPropagation(),gn.abs(r)>1&&(r*=Ho),i.mousewheel.reverse&&(r*=-1),n.expand(r)&&n.trigger(to,{axis:n.categoryAxis.options,delta:r,originalEvent:e,from:n._value(t.from),to:n._value(t.to)}),n._mwTimeout&&clearTimeout(n._mwTimeout),n._mwTimeout=setTimeout(function(){n._end()},Fr))},_index:function(e){var t=this,n=t.categoryAxis,i=n.options.categories,r=e;return e instanceof Date&&(r=I(e,i),!n.options.justified&&e>ni(i)&&(r+=1)),r},_value:function(e){var t=this,n=this.categoryAxis,i=n.options.categories,r=e;return t._dateAxis&&(r=e>i.length-1?t.options.max:i[e]),r},_slot:function(e){var t=this,n=this.categoryAxis;return n.getSlot(t._index(e))},move:function(e,t){var n,i,r,o,a=this,s=a.options,l=s.offset,c=s.padding,d=s.selection.border;r=a._slot(e),n=oi(r.x1-l.left+c.left),a.leftMask.width(n),a.selection.css("left",n),r=a._slot(t),i=oi(s.width-(r.x1-l.left+c.left)),a.rightMask.width(i),o=s.width-i,o!=s.width&&(o+=d.right),a.rightMask.css("left",o),a.selection.width(gn.max(s.width-(n+i)-d.right,0))},set:function(e,t){var n=this,i=n.options,r=n._index(i.min),o=n._index(i.max);e=ii(n._index(e),r,o),t=ii(n._index(t),e+1,o),i.visible&&n.move(e,t),i.from=n._value(e),i.to=n._value(t)},expand:function(e){var n=this,i=n.options,r=n._index(i.min),o=n._index(i.max),a=i.mousewheel.zoom,s=n._index(i.from),l=n._index(i.to),c={from:s,to:l},d=xn({},c);return n._state&&(c=n._state.range),a!==Yr&&(c.from=ii(ii(s-e,0,l-1),r,o)),a!==fr&&(c.to=ii(ii(l+e,c.from+1,o),r,o)),c.from!==d.from||c.to!==d.to?(n.set(c.from,c.to),!0):t},getValueAxis:function(e){var t,n,i=e.pane.axes,r=i.length;for(t=0;r>t;t++)if(n=i[t],n.options.vertical!==e.options.vertical)return n}}),un=function(e,t,n){var i,r,o,a=this,s=t.canonicalFields(e),l=t.valueFields(e),c=t.sourceFields(e,s),d=a._seriesFields=[],u=n.query(e.type),h=e.aggregate||u;for(a._series=e,a._binder=t,i=0;s.length>i;i++){if(r=s[i],typeof h===Hr)o=h[r];else{if(0!==i&&!ei(r,l))break;o=h}o&&d.push({canonicalName:r,name:c[i],transform:Sn(o)?o:cn[o]})}},un.prototype={aggregatePoints:function(e,t){var n,i,r,o,a,s=this,l=s._bindPoints(e||[]),c=s._series,d=s._seriesFields,u=l.dataItems[0],h={};for(!u||P(u)||pn(u)||(a=function(){},a.prototype=u,h=new a),n=0;d.length>n;n++){if(i=d[n],r=s._bindField(l.values,i.canonicalName),o=i.transform(r,c,l.dataItems,t),null!==o&&typeof o===Hr&&!Kn(o.length)){h=o;break}Kn(o)&&(W(i.name,h),_n.setter(i.name)(h,o))}return h},_bindPoints:function(e){var t,n,i=this,r=i._binder,o=i._series,a=[],s=[];for(t=0;e.length>t;t++)n=e[t],a.push(r.bindPoint(o,n)),s.push(o.data[n]);return{values:a,dataItems:s}},_bindField:function(e,t){var n,i,r,o,a=[],s=e.length;for(n=0;s>n;n++)i=e[n],o=i.valueFields,r=Kn(o[t])?o[t]:i.fields[t],a.push(r);return a}},mn(e.easing,{easeOutElastic:function(e,t,n,i){var r=1.70158,o=0,a=i;return 0===e?n:1===e?n+i:(o||(o=.5),a<gn.abs(i)?(a=i,r=o/4):r=o/(2*gn.PI)*gn.asin(i/a),a*gn.pow(2,-10*e)*gn.sin(1.1*(1*e-r)*gn.PI/o)+i+n)}}),Dn.ui.plugin(qo),q.current.register(Gt,[gi,Mi,vr,Io,ui,Ao,Ci,Or,xi,Eo,bi,$r,Gr,Po,lr]),q.current.register(Yt,[Xr,Zr,ki]),q.current.register(Qt,[Ur]),q.current.register(Kt,[qi]),G.current.register([gi,Mi,vr,Io,ui,Ao],[Do],[Si,Pi,Lr,Ki,Xi]),G.current.register([$r,Gr],[rr,wo],[Si,Pi,Lr]),G.current.register([Po,lr],[Do],[Si,Pi,Lr,uo]),n.current.register([gi,Mi,vr,Io,ui,Ao,Po,lr],{value:wr,color:ir,noteText:ir,errorLow:xr,errorHigh:wr}),n.current.register([$r,Gr],{from:xr,to:wr,color:ir,noteText:ir}),G.current.register([Xr,Zr,ki],[zo,Bo],[Pi,Lr,Zi,Ji,er,tr]),G.current.register([ki],[zo,Bo,"size"],[Pi,Si,Lr]),G.current.register([Ci,Or],["open","high","low","close"],[Si,Pi,"downColor",Lr]),n.current.register([Ci,Or],{open:wr,high:wr,low:xr,close:wr,color:ir,downColor:ir,noteText:ir}),G.current.register([bi],["lower","q1","median","q3","upper","mean","outliers"],[Si,Pi,Lr]),n.current.register([bi],{lower:wr,q1:wr,median:wr,q3:wr,upper:wr,mean:wr,outliers:ir,color:ir,noteText:ir}),G.current.register([xi,Eo],["current","target"],[Si,Pi,"visibleInLegend",Lr]),n.current.register([xi,Eo],{current:wr,target:wr,color:ir,noteText:ir}),G.current.register([Ur,qi],[Do],[Si,Pi,"explode","visibleInLegend","visible"]),xn(Dn,{EQUALLY_SPACED_SERIES:Wo,Aggregates:cn,AreaChart:Ct,AreaSegment:xt,AxisGroupRangeTracker:$t,Bar:it,BarAnimationDecorator:Jt,BarChart:at,BarLabel:$,BubbleAnimationDecorator:tn,BubbleChart:Et,BulletChart:ct,CandlestickChart:Pt,Candlestick:It,CategoricalChart:ot,CategoricalErrorBar:pt,CategoricalPlotArea:Gt,CategoryAxis:K,ChartContainer:jt,ClusterLayout:J,Crosshair:sn,CrosshairTooltip:ln,DateCategoryAxis:X,DateValueAxis:Z,DefaultAggregates:n,DonutChart:Nt,DonutPlotArea:Kt,DonutSegment:Ot,ErrorBarBase:ht,ErrorRangeCalculator:rt,Highlight:nn,SharedTooltip:an,Legend:Q,LegendItem:Y,LineChart:yt,LinePoint:gt,LineSegment:vt,Pane:Wt,PieAnimation:Xt,PieAnimationDecorator:en,PieChart:Ht,PieChartMixin:Lt,PiePlotArea:Qt,PieSegment:Rt,PlotAreaBase:qt,PlotAreaFactory:q,PointEventsMixin:tt,RangeBar:st,RangeBarChart:lt,ScatterChart:Dt,ScatterErrorBar:ft,ScatterLineChart:At,Selection:dn,SeriesAggregator:un,SeriesBinder:G,ShapeElement:jn,SplineSegment:bt,SplineAreaSegment:St,StackWrap:et,Tooltip:on,OHLCChart:Ft,OHLCPoint:Mt,WaterfallChart:Vt,WaterfallSegment:Ut,XYPlotArea:Yt,addDuration:_,areNumbers:F,axisGroupBox:T,categoriesCount:h,ceilDate:b,countNumbers:M,duration:C,ensureTree:W,indexOf:H,isNumber:P,floorDate:w,filterSeriesByType:L,lteDateIndex:I,evalOptions:B,seriesTotal:j,singleItemOrArray:S,sortDates:O,sparseArrayLimits:o,startOfWeek:y,transpose:U,toDate:m,toTime:v,uniqueDates:N})
}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});